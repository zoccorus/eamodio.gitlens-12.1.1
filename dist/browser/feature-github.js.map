{"version":3,"file":"feature-github.js","mappings":"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","sources":["webpack://gitlens/./node_modules/before-after-hook/index.js","webpack://gitlens/./node_modules/before-after-hook/lib/add.js","webpack://gitlens/./node_modules/before-after-hook/lib/register.js","webpack://gitlens/./node_modules/before-after-hook/lib/remove.js","webpack://gitlens/./node_modules/universal-user-agent/dist-web/index.js","webpack://gitlens/./node_modules/is-plain-object/dist/is-plain-object.mjs","webpack://gitlens/./node_modules/@octokit/endpoint/dist-web/index.js","webpack://gitlens/./node_modules/deprecation/dist-web/index.js","webpack://gitlens/./node_modules/@octokit/request-error/dist-web/index.js","webpack://gitlens/./node_modules/@octokit/request/dist-web/index.js","webpack://gitlens/./node_modules/@octokit/graphql/dist-web/index.js","webpack://gitlens/./node_modules/@octokit/auth-token/dist-web/index.js","webpack://gitlens/./node_modules/@octokit/core/dist-web/index.js","webpack://gitlens/./src/plus/github/github.ts","webpack://gitlens/./node_modules/node-fetch/browser.js","webpack://gitlens/./node_modules/once/once.js","webpack://gitlens/./node_modules/wrappy/wrappy.js"],"sourcesContent":["var register = require('./lib/register')\nvar addHook = require('./lib/add')\nvar removeHook = require('./lib/remove')\n\n// bind with array of arguments: https://stackoverflow.com/a/21792913\nvar bind = Function.bind\nvar bindable = bind.bind(bind)\n\nfunction bindApi (hook, state, name) {\n  var removeHookRef = bindable(removeHook, null).apply(null, name ? [state, name] : [state])\n  hook.api = { remove: removeHookRef }\n  hook.remove = removeHookRef\n\n  ;['before', 'error', 'after', 'wrap'].forEach(function (kind) {\n    var args = name ? [state, kind, name] : [state, kind]\n    hook[kind] = hook.api[kind] = bindable(addHook, null).apply(null, args)\n  })\n}\n\nfunction HookSingular () {\n  var singularHookName = 'h'\n  var singularHookState = {\n    registry: {}\n  }\n  var singularHook = register.bind(null, singularHookState, singularHookName)\n  bindApi(singularHook, singularHookState, singularHookName)\n  return singularHook\n}\n\nfunction HookCollection () {\n  var state = {\n    registry: {}\n  }\n\n  var hook = register.bind(null, state)\n  bindApi(hook, state)\n\n  return hook\n}\n\nvar collectionHookDeprecationMessageDisplayed = false\nfunction Hook () {\n  if (!collectionHookDeprecationMessageDisplayed) {\n    console.warn('[before-after-hook]: \"Hook()\" repurposing warning, use \"Hook.Collection()\". Read more: https://git.io/upgrade-before-after-hook-to-1.4')\n    collectionHookDeprecationMessageDisplayed = true\n  }\n  return HookCollection()\n}\n\nHook.Singular = HookSingular.bind()\nHook.Collection = HookCollection.bind()\n\nmodule.exports = Hook\n// expose constructors as a named property for TypeScript\nmodule.exports.Hook = Hook\nmodule.exports.Singular = Hook.Singular\nmodule.exports.Collection = Hook.Collection\n","module.exports = addHook;\n\nfunction addHook(state, kind, name, hook) {\n  var orig = hook;\n  if (!state.registry[name]) {\n    state.registry[name] = [];\n  }\n\n  if (kind === \"before\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(orig.bind(null, options))\n        .then(method.bind(null, options));\n    };\n  }\n\n  if (kind === \"after\") {\n    hook = function (method, options) {\n      var result;\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .then(function (result_) {\n          result = result_;\n          return orig(result, options);\n        })\n        .then(function () {\n          return result;\n        });\n    };\n  }\n\n  if (kind === \"error\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .catch(function (error) {\n          return orig(error, options);\n        });\n    };\n  }\n\n  state.registry[name].push({\n    hook: hook,\n    orig: orig,\n  });\n}\n","module.exports = register;\n\nfunction register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce(function (callback, name) {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(function () {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce(function (method, registered) {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}\n","module.exports = removeHook;\n\nfunction removeHook(state, name, method) {\n  if (!state.registry[name]) {\n    return;\n  }\n\n  var index = state.registry[name]\n    .map(function (registered) {\n      return registered.orig;\n    })\n    .indexOf(method);\n\n  if (index === -1) {\n    return;\n  }\n\n  state.registry[name].splice(index, 1);\n}\n","function getUserAgent() {\n    if (typeof navigator === \"object\" && \"userAgent\" in navigator) {\n        return navigator.userAgent;\n    }\n    if (typeof process === \"object\" && \"version\" in process) {\n        return `Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`;\n    }\n    return \"<environment undetectable>\";\n}\n\nexport { getUserAgent };\n//# sourceMappingURL=index.js.map\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","import { isPlainObject } from 'is-plain-object';\nimport { getUserAgent } from 'universal-user-agent';\n\nfunction lowercaseKeys(object) {\n    if (!object) {\n        return {};\n    }\n    return Object.keys(object).reduce((newObj, key) => {\n        newObj[key.toLowerCase()] = object[key];\n        return newObj;\n    }, {});\n}\n\nfunction mergeDeep(defaults, options) {\n    const result = Object.assign({}, defaults);\n    Object.keys(options).forEach((key) => {\n        if (isPlainObject(options[key])) {\n            if (!(key in defaults))\n                Object.assign(result, { [key]: options[key] });\n            else\n                result[key] = mergeDeep(defaults[key], options[key]);\n        }\n        else {\n            Object.assign(result, { [key]: options[key] });\n        }\n    });\n    return result;\n}\n\nfunction removeUndefinedProperties(obj) {\n    for (const key in obj) {\n        if (obj[key] === undefined) {\n            delete obj[key];\n        }\n    }\n    return obj;\n}\n\nfunction merge(defaults, route, options) {\n    if (typeof route === \"string\") {\n        let [method, url] = route.split(\" \");\n        options = Object.assign(url ? { method, url } : { url: method }, options);\n    }\n    else {\n        options = Object.assign({}, route);\n    }\n    // lowercase header names before merging with defaults to avoid duplicates\n    options.headers = lowercaseKeys(options.headers);\n    // remove properties with undefined values before merging\n    removeUndefinedProperties(options);\n    removeUndefinedProperties(options.headers);\n    const mergedOptions = mergeDeep(defaults || {}, options);\n    // mediaType.previews arrays are merged, instead of overwritten\n    if (defaults && defaults.mediaType.previews.length) {\n        mergedOptions.mediaType.previews = defaults.mediaType.previews\n            .filter((preview) => !mergedOptions.mediaType.previews.includes(preview))\n            .concat(mergedOptions.mediaType.previews);\n    }\n    mergedOptions.mediaType.previews = mergedOptions.mediaType.previews.map((preview) => preview.replace(/-preview/, \"\"));\n    return mergedOptions;\n}\n\nfunction addQueryParameters(url, parameters) {\n    const separator = /\\?/.test(url) ? \"&\" : \"?\";\n    const names = Object.keys(parameters);\n    if (names.length === 0) {\n        return url;\n    }\n    return (url +\n        separator +\n        names\n            .map((name) => {\n            if (name === \"q\") {\n                return (\"q=\" + parameters.q.split(\"+\").map(encodeURIComponent).join(\"+\"));\n            }\n            return `${name}=${encodeURIComponent(parameters[name])}`;\n        })\n            .join(\"&\"));\n}\n\nconst urlVariableRegex = /\\{[^}]+\\}/g;\nfunction removeNonChars(variableName) {\n    return variableName.replace(/^\\W+|\\W+$/g, \"\").split(/,/);\n}\nfunction extractUrlVariableNames(url) {\n    const matches = url.match(urlVariableRegex);\n    if (!matches) {\n        return [];\n    }\n    return matches.map(removeNonChars).reduce((a, b) => a.concat(b), []);\n}\n\nfunction omit(object, keysToOmit) {\n    return Object.keys(object)\n        .filter((option) => !keysToOmit.includes(option))\n        .reduce((obj, key) => {\n        obj[key] = object[key];\n        return obj;\n    }, {});\n}\n\n// Based on https://github.com/bramstein/url-template, licensed under BSD\n// TODO: create separate package.\n//\n// Copyright (c) 2012-2014, Bram Stein\n// All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions\n// are met:\n//  1. Redistributions of source code must retain the above copyright\n//     notice, this list of conditions and the following disclaimer.\n//  2. Redistributions in binary form must reproduce the above copyright\n//     notice, this list of conditions and the following disclaimer in the\n//     documentation and/or other materials provided with the distribution.\n//  3. The name of the author may not be used to endorse or promote products\n//     derived from this software without specific prior written permission.\n// THIS SOFTWARE IS PROVIDED BY THE AUTHOR \"AS IS\" AND ANY EXPRESS OR IMPLIED\n// WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO\n// EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n// INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n// BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n// NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n// EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n/* istanbul ignore file */\nfunction encodeReserved(str) {\n    return str\n        .split(/(%[0-9A-Fa-f]{2})/g)\n        .map(function (part) {\n        if (!/%[0-9A-Fa-f]/.test(part)) {\n            part = encodeURI(part).replace(/%5B/g, \"[\").replace(/%5D/g, \"]\");\n        }\n        return part;\n    })\n        .join(\"\");\n}\nfunction encodeUnreserved(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n        return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n    });\n}\nfunction encodeValue(operator, value, key) {\n    value =\n        operator === \"+\" || operator === \"#\"\n            ? encodeReserved(value)\n            : encodeUnreserved(value);\n    if (key) {\n        return encodeUnreserved(key) + \"=\" + value;\n    }\n    else {\n        return value;\n    }\n}\nfunction isDefined(value) {\n    return value !== undefined && value !== null;\n}\nfunction isKeyOperator(operator) {\n    return operator === \";\" || operator === \"&\" || operator === \"?\";\n}\nfunction getValues(context, operator, key, modifier) {\n    var value = context[key], result = [];\n    if (isDefined(value) && value !== \"\") {\n        if (typeof value === \"string\" ||\n            typeof value === \"number\" ||\n            typeof value === \"boolean\") {\n            value = value.toString();\n            if (modifier && modifier !== \"*\") {\n                value = value.substring(0, parseInt(modifier, 10));\n            }\n            result.push(encodeValue(operator, value, isKeyOperator(operator) ? key : \"\"));\n        }\n        else {\n            if (modifier === \"*\") {\n                if (Array.isArray(value)) {\n                    value.filter(isDefined).forEach(function (value) {\n                        result.push(encodeValue(operator, value, isKeyOperator(operator) ? key : \"\"));\n                    });\n                }\n                else {\n                    Object.keys(value).forEach(function (k) {\n                        if (isDefined(value[k])) {\n                            result.push(encodeValue(operator, value[k], k));\n                        }\n                    });\n                }\n            }\n            else {\n                const tmp = [];\n                if (Array.isArray(value)) {\n                    value.filter(isDefined).forEach(function (value) {\n                        tmp.push(encodeValue(operator, value));\n                    });\n                }\n                else {\n                    Object.keys(value).forEach(function (k) {\n                        if (isDefined(value[k])) {\n                            tmp.push(encodeUnreserved(k));\n                            tmp.push(encodeValue(operator, value[k].toString()));\n                        }\n                    });\n                }\n                if (isKeyOperator(operator)) {\n                    result.push(encodeUnreserved(key) + \"=\" + tmp.join(\",\"));\n                }\n                else if (tmp.length !== 0) {\n                    result.push(tmp.join(\",\"));\n                }\n            }\n        }\n    }\n    else {\n        if (operator === \";\") {\n            if (isDefined(value)) {\n                result.push(encodeUnreserved(key));\n            }\n        }\n        else if (value === \"\" && (operator === \"&\" || operator === \"?\")) {\n            result.push(encodeUnreserved(key) + \"=\");\n        }\n        else if (value === \"\") {\n            result.push(\"\");\n        }\n    }\n    return result;\n}\nfunction parseUrl(template) {\n    return {\n        expand: expand.bind(null, template),\n    };\n}\nfunction expand(template, context) {\n    var operators = [\"+\", \"#\", \".\", \"/\", \";\", \"?\", \"&\"];\n    return template.replace(/\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g, function (_, expression, literal) {\n        if (expression) {\n            let operator = \"\";\n            const values = [];\n            if (operators.indexOf(expression.charAt(0)) !== -1) {\n                operator = expression.charAt(0);\n                expression = expression.substr(1);\n            }\n            expression.split(/,/g).forEach(function (variable) {\n                var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n                values.push(getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n            });\n            if (operator && operator !== \"+\") {\n                var separator = \",\";\n                if (operator === \"?\") {\n                    separator = \"&\";\n                }\n                else if (operator !== \"#\") {\n                    separator = operator;\n                }\n                return (values.length !== 0 ? operator : \"\") + values.join(separator);\n            }\n            else {\n                return values.join(\",\");\n            }\n        }\n        else {\n            return encodeReserved(literal);\n        }\n    });\n}\n\nfunction parse(options) {\n    // https://fetch.spec.whatwg.org/#methods\n    let method = options.method.toUpperCase();\n    // replace :varname with {varname} to make it RFC 6570 compatible\n    let url = (options.url || \"/\").replace(/:([a-z]\\w+)/g, \"{$1}\");\n    let headers = Object.assign({}, options.headers);\n    let body;\n    let parameters = omit(options, [\n        \"method\",\n        \"baseUrl\",\n        \"url\",\n        \"headers\",\n        \"request\",\n        \"mediaType\",\n    ]);\n    // extract variable names from URL to calculate remaining variables later\n    const urlVariableNames = extractUrlVariableNames(url);\n    url = parseUrl(url).expand(parameters);\n    if (!/^http/.test(url)) {\n        url = options.baseUrl + url;\n    }\n    const omittedParameters = Object.keys(options)\n        .filter((option) => urlVariableNames.includes(option))\n        .concat(\"baseUrl\");\n    const remainingParameters = omit(parameters, omittedParameters);\n    const isBinaryRequest = /application\\/octet-stream/i.test(headers.accept);\n    if (!isBinaryRequest) {\n        if (options.mediaType.format) {\n            // e.g. application/vnd.github.v3+json => application/vnd.github.v3.raw\n            headers.accept = headers.accept\n                .split(/,/)\n                .map((preview) => preview.replace(/application\\/vnd(\\.\\w+)(\\.v3)?(\\.\\w+)?(\\+json)?$/, `application/vnd$1$2.${options.mediaType.format}`))\n                .join(\",\");\n        }\n        if (options.mediaType.previews.length) {\n            const previewsFromAcceptHeader = headers.accept.match(/[\\w-]+(?=-preview)/g) || [];\n            headers.accept = previewsFromAcceptHeader\n                .concat(options.mediaType.previews)\n                .map((preview) => {\n                const format = options.mediaType.format\n                    ? `.${options.mediaType.format}`\n                    : \"+json\";\n                return `application/vnd.github.${preview}-preview${format}`;\n            })\n                .join(\",\");\n        }\n    }\n    // for GET/HEAD requests, set URL query parameters from remaining parameters\n    // for PATCH/POST/PUT/DELETE requests, set request body from remaining parameters\n    if ([\"GET\", \"HEAD\"].includes(method)) {\n        url = addQueryParameters(url, remainingParameters);\n    }\n    else {\n        if (\"data\" in remainingParameters) {\n            body = remainingParameters.data;\n        }\n        else {\n            if (Object.keys(remainingParameters).length) {\n                body = remainingParameters;\n            }\n            else {\n                headers[\"content-length\"] = 0;\n            }\n        }\n    }\n    // default content-type for JSON if body is set\n    if (!headers[\"content-type\"] && typeof body !== \"undefined\") {\n        headers[\"content-type\"] = \"application/json; charset=utf-8\";\n    }\n    // GitHub expects 'content-length: 0' header for PUT/PATCH requests without body.\n    // fetch does not allow to set `content-length` header, but we can set body to an empty string\n    if ([\"PATCH\", \"PUT\"].includes(method) && typeof body === \"undefined\") {\n        body = \"\";\n    }\n    // Only return body/request keys if present\n    return Object.assign({ method, url, headers }, typeof body !== \"undefined\" ? { body } : null, options.request ? { request: options.request } : null);\n}\n\nfunction endpointWithDefaults(defaults, route, options) {\n    return parse(merge(defaults, route, options));\n}\n\nfunction withDefaults(oldDefaults, newDefaults) {\n    const DEFAULTS = merge(oldDefaults, newDefaults);\n    const endpoint = endpointWithDefaults.bind(null, DEFAULTS);\n    return Object.assign(endpoint, {\n        DEFAULTS,\n        defaults: withDefaults.bind(null, DEFAULTS),\n        merge: merge.bind(null, DEFAULTS),\n        parse,\n    });\n}\n\nconst VERSION = \"6.0.12\";\n\nconst userAgent = `octokit-endpoint.js/${VERSION} ${getUserAgent()}`;\n// DEFAULTS has all properties set that EndpointOptions has, except url.\n// So we use RequestParameters and add method as additional required property.\nconst DEFAULTS = {\n    method: \"GET\",\n    baseUrl: \"https://api.github.com\",\n    headers: {\n        accept: \"application/vnd.github.v3+json\",\n        \"user-agent\": userAgent,\n    },\n    mediaType: {\n        format: \"\",\n        previews: [],\n    },\n};\n\nconst endpoint = withDefaults(null, DEFAULTS);\n\nexport { endpoint };\n//# sourceMappingURL=index.js.map\n","class Deprecation extends Error {\n  constructor(message) {\n    super(message); // Maintains proper stack trace (only available on V8)\n\n    /* istanbul ignore next */\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    this.name = 'Deprecation';\n  }\n\n}\n\nexport { Deprecation };\n","import { Deprecation } from 'deprecation';\nimport once from 'once';\n\nconst logOnceCode = once((deprecation) => console.warn(deprecation));\nconst logOnceHeaders = once((deprecation) => console.warn(deprecation));\n/**\n * Error with extra properties to help with debugging\n */\nclass RequestError extends Error {\n    constructor(message, statusCode, options) {\n        super(message);\n        // Maintains proper stack trace (only available on V8)\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n        this.name = \"HttpError\";\n        this.status = statusCode;\n        let headers;\n        if (\"headers\" in options && typeof options.headers !== \"undefined\") {\n            headers = options.headers;\n        }\n        if (\"response\" in options) {\n            this.response = options.response;\n            headers = options.response.headers;\n        }\n        // redact request credentials without mutating original request options\n        const requestCopy = Object.assign({}, options.request);\n        if (options.request.headers.authorization) {\n            requestCopy.headers = Object.assign({}, options.request.headers, {\n                authorization: options.request.headers.authorization.replace(/ .*$/, \" [REDACTED]\"),\n            });\n        }\n        requestCopy.url = requestCopy.url\n            // client_id & client_secret can be passed as URL query parameters to increase rate limit\n            // see https://developer.github.com/v3/#increasing-the-unauthenticated-rate-limit-for-oauth-applications\n            .replace(/\\bclient_secret=\\w+/g, \"client_secret=[REDACTED]\")\n            // OAuth tokens can be passed as URL query parameters, although it is not recommended\n            // see https://developer.github.com/v3/#oauth2-token-sent-in-a-header\n            .replace(/\\baccess_token=\\w+/g, \"access_token=[REDACTED]\");\n        this.request = requestCopy;\n        // deprecations\n        Object.defineProperty(this, \"code\", {\n            get() {\n                logOnceCode(new Deprecation(\"[@octokit/request-error] `error.code` is deprecated, use `error.status`.\"));\n                return statusCode;\n            },\n        });\n        Object.defineProperty(this, \"headers\", {\n            get() {\n                logOnceHeaders(new Deprecation(\"[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.\"));\n                return headers || {};\n            },\n        });\n    }\n}\n\nexport { RequestError };\n//# sourceMappingURL=index.js.map\n","import { endpoint } from '@octokit/endpoint';\nimport { getUserAgent } from 'universal-user-agent';\nimport { isPlainObject } from 'is-plain-object';\nimport nodeFetch from 'node-fetch';\nimport { RequestError } from '@octokit/request-error';\n\nconst VERSION = \"5.6.3\";\n\nfunction getBufferResponse(response) {\n    return response.arrayBuffer();\n}\n\nfunction fetchWrapper(requestOptions) {\n    const log = requestOptions.request && requestOptions.request.log\n        ? requestOptions.request.log\n        : console;\n    if (isPlainObject(requestOptions.body) ||\n        Array.isArray(requestOptions.body)) {\n        requestOptions.body = JSON.stringify(requestOptions.body);\n    }\n    let headers = {};\n    let status;\n    let url;\n    const fetch = (requestOptions.request && requestOptions.request.fetch) || nodeFetch;\n    return fetch(requestOptions.url, Object.assign({\n        method: requestOptions.method,\n        body: requestOptions.body,\n        headers: requestOptions.headers,\n        redirect: requestOptions.redirect,\n    }, \n    // `requestOptions.request.agent` type is incompatible\n    // see https://github.com/octokit/types.ts/pull/264\n    requestOptions.request))\n        .then(async (response) => {\n        url = response.url;\n        status = response.status;\n        for (const keyAndValue of response.headers) {\n            headers[keyAndValue[0]] = keyAndValue[1];\n        }\n        if (\"deprecation\" in headers) {\n            const matches = headers.link && headers.link.match(/<([^>]+)>; rel=\"deprecation\"/);\n            const deprecationLink = matches && matches.pop();\n            log.warn(`[@octokit/request] \"${requestOptions.method} ${requestOptions.url}\" is deprecated. It is scheduled to be removed on ${headers.sunset}${deprecationLink ? `. See ${deprecationLink}` : \"\"}`);\n        }\n        if (status === 204 || status === 205) {\n            return;\n        }\n        // GitHub API returns 200 for HEAD requests\n        if (requestOptions.method === \"HEAD\") {\n            if (status < 400) {\n                return;\n            }\n            throw new RequestError(response.statusText, status, {\n                response: {\n                    url,\n                    status,\n                    headers,\n                    data: undefined,\n                },\n                request: requestOptions,\n            });\n        }\n        if (status === 304) {\n            throw new RequestError(\"Not modified\", status, {\n                response: {\n                    url,\n                    status,\n                    headers,\n                    data: await getResponseData(response),\n                },\n                request: requestOptions,\n            });\n        }\n        if (status >= 400) {\n            const data = await getResponseData(response);\n            const error = new RequestError(toErrorMessage(data), status, {\n                response: {\n                    url,\n                    status,\n                    headers,\n                    data,\n                },\n                request: requestOptions,\n            });\n            throw error;\n        }\n        return getResponseData(response);\n    })\n        .then((data) => {\n        return {\n            status,\n            url,\n            headers,\n            data,\n        };\n    })\n        .catch((error) => {\n        if (error instanceof RequestError)\n            throw error;\n        throw new RequestError(error.message, 500, {\n            request: requestOptions,\n        });\n    });\n}\nasync function getResponseData(response) {\n    const contentType = response.headers.get(\"content-type\");\n    if (/application\\/json/.test(contentType)) {\n        return response.json();\n    }\n    if (!contentType || /^text\\/|charset=utf-8$/.test(contentType)) {\n        return response.text();\n    }\n    return getBufferResponse(response);\n}\nfunction toErrorMessage(data) {\n    if (typeof data === \"string\")\n        return data;\n    // istanbul ignore else - just in case\n    if (\"message\" in data) {\n        if (Array.isArray(data.errors)) {\n            return `${data.message}: ${data.errors.map(JSON.stringify).join(\", \")}`;\n        }\n        return data.message;\n    }\n    // istanbul ignore next - just in case\n    return `Unknown error: ${JSON.stringify(data)}`;\n}\n\nfunction withDefaults(oldEndpoint, newDefaults) {\n    const endpoint = oldEndpoint.defaults(newDefaults);\n    const newApi = function (route, parameters) {\n        const endpointOptions = endpoint.merge(route, parameters);\n        if (!endpointOptions.request || !endpointOptions.request.hook) {\n            return fetchWrapper(endpoint.parse(endpointOptions));\n        }\n        const request = (route, parameters) => {\n            return fetchWrapper(endpoint.parse(endpoint.merge(route, parameters)));\n        };\n        Object.assign(request, {\n            endpoint,\n            defaults: withDefaults.bind(null, endpoint),\n        });\n        return endpointOptions.request.hook(request, endpointOptions);\n    };\n    return Object.assign(newApi, {\n        endpoint,\n        defaults: withDefaults.bind(null, endpoint),\n    });\n}\n\nconst request = withDefaults(endpoint, {\n    headers: {\n        \"user-agent\": `octokit-request.js/${VERSION} ${getUserAgent()}`,\n    },\n});\n\nexport { request };\n//# sourceMappingURL=index.js.map\n","import { request } from '@octokit/request';\nimport { getUserAgent } from 'universal-user-agent';\n\nconst VERSION = \"4.8.0\";\n\nfunction _buildMessageForResponseErrors(data) {\n    return (`Request failed due to following response errors:\\n` +\n        data.errors.map((e) => ` - ${e.message}`).join(\"\\n\"));\n}\nclass GraphqlResponseError extends Error {\n    constructor(request, headers, response) {\n        super(_buildMessageForResponseErrors(response));\n        this.request = request;\n        this.headers = headers;\n        this.response = response;\n        this.name = \"GraphqlResponseError\";\n        // Expose the errors and response data in their shorthand properties.\n        this.errors = response.errors;\n        this.data = response.data;\n        // Maintains proper stack trace (only available on V8)\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n}\n\nconst NON_VARIABLE_OPTIONS = [\n    \"method\",\n    \"baseUrl\",\n    \"url\",\n    \"headers\",\n    \"request\",\n    \"query\",\n    \"mediaType\",\n];\nconst FORBIDDEN_VARIABLE_OPTIONS = [\"query\", \"method\", \"url\"];\nconst GHES_V3_SUFFIX_REGEX = /\\/api\\/v3\\/?$/;\nfunction graphql(request, query, options) {\n    if (options) {\n        if (typeof query === \"string\" && \"query\" in options) {\n            return Promise.reject(new Error(`[@octokit/graphql] \"query\" cannot be used as variable name`));\n        }\n        for (const key in options) {\n            if (!FORBIDDEN_VARIABLE_OPTIONS.includes(key))\n                continue;\n            return Promise.reject(new Error(`[@octokit/graphql] \"${key}\" cannot be used as variable name`));\n        }\n    }\n    const parsedOptions = typeof query === \"string\" ? Object.assign({ query }, options) : query;\n    const requestOptions = Object.keys(parsedOptions).reduce((result, key) => {\n        if (NON_VARIABLE_OPTIONS.includes(key)) {\n            result[key] = parsedOptions[key];\n            return result;\n        }\n        if (!result.variables) {\n            result.variables = {};\n        }\n        result.variables[key] = parsedOptions[key];\n        return result;\n    }, {});\n    // workaround for GitHub Enterprise baseUrl set with /api/v3 suffix\n    // https://github.com/octokit/auth-app.js/issues/111#issuecomment-657610451\n    const baseUrl = parsedOptions.baseUrl || request.endpoint.DEFAULTS.baseUrl;\n    if (GHES_V3_SUFFIX_REGEX.test(baseUrl)) {\n        requestOptions.url = baseUrl.replace(GHES_V3_SUFFIX_REGEX, \"/api/graphql\");\n    }\n    return request(requestOptions).then((response) => {\n        if (response.data.errors) {\n            const headers = {};\n            for (const key of Object.keys(response.headers)) {\n                headers[key] = response.headers[key];\n            }\n            throw new GraphqlResponseError(requestOptions, headers, response.data);\n        }\n        return response.data.data;\n    });\n}\n\nfunction withDefaults(request$1, newDefaults) {\n    const newRequest = request$1.defaults(newDefaults);\n    const newApi = (query, options) => {\n        return graphql(newRequest, query, options);\n    };\n    return Object.assign(newApi, {\n        defaults: withDefaults.bind(null, newRequest),\n        endpoint: request.endpoint,\n    });\n}\n\nconst graphql$1 = withDefaults(request, {\n    headers: {\n        \"user-agent\": `octokit-graphql.js/${VERSION} ${getUserAgent()}`,\n    },\n    method: \"POST\",\n    url: \"/graphql\",\n});\nfunction withCustomRequest(customRequest) {\n    return withDefaults(customRequest, {\n        method: \"POST\",\n        url: \"/graphql\",\n    });\n}\n\nexport { GraphqlResponseError, graphql$1 as graphql, withCustomRequest };\n//# sourceMappingURL=index.js.map\n","const REGEX_IS_INSTALLATION_LEGACY = /^v1\\./;\nconst REGEX_IS_INSTALLATION = /^ghs_/;\nconst REGEX_IS_USER_TO_SERVER = /^ghu_/;\nasync function auth(token) {\n    const isApp = token.split(/\\./).length === 3;\n    const isInstallation = REGEX_IS_INSTALLATION_LEGACY.test(token) ||\n        REGEX_IS_INSTALLATION.test(token);\n    const isUserToServer = REGEX_IS_USER_TO_SERVER.test(token);\n    const tokenType = isApp\n        ? \"app\"\n        : isInstallation\n            ? \"installation\"\n            : isUserToServer\n                ? \"user-to-server\"\n                : \"oauth\";\n    return {\n        type: \"token\",\n        token: token,\n        tokenType,\n    };\n}\n\n/**\n * Prefix token for usage in the Authorization header\n *\n * @param token OAuth token or JSON Web Token\n */\nfunction withAuthorizationPrefix(token) {\n    if (token.split(/\\./).length === 3) {\n        return `bearer ${token}`;\n    }\n    return `token ${token}`;\n}\n\nasync function hook(token, request, route, parameters) {\n    const endpoint = request.endpoint.merge(route, parameters);\n    endpoint.headers.authorization = withAuthorizationPrefix(token);\n    return request(endpoint);\n}\n\nconst createTokenAuth = function createTokenAuth(token) {\n    if (!token) {\n        throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n    }\n    if (typeof token !== \"string\") {\n        throw new Error(\"[@octokit/auth-token] Token passed to createTokenAuth is not a string\");\n    }\n    token = token.replace(/^(token|bearer) +/i, \"\");\n    return Object.assign(auth.bind(null, token), {\n        hook: hook.bind(null, token),\n    });\n};\n\nexport { createTokenAuth };\n//# sourceMappingURL=index.js.map\n","import { getUserAgent } from 'universal-user-agent';\nimport { Collection } from 'before-after-hook';\nimport { request } from '@octokit/request';\nimport { withCustomRequest } from '@octokit/graphql';\nimport { createTokenAuth } from '@octokit/auth-token';\n\nconst VERSION = \"3.6.0\";\n\nclass Octokit {\n    constructor(options = {}) {\n        const hook = new Collection();\n        const requestDefaults = {\n            baseUrl: request.endpoint.DEFAULTS.baseUrl,\n            headers: {},\n            request: Object.assign({}, options.request, {\n                // @ts-ignore internal usage only, no need to type\n                hook: hook.bind(null, \"request\"),\n            }),\n            mediaType: {\n                previews: [],\n                format: \"\",\n            },\n        };\n        // prepend default user agent with `options.userAgent` if set\n        requestDefaults.headers[\"user-agent\"] = [\n            options.userAgent,\n            `octokit-core.js/${VERSION} ${getUserAgent()}`,\n        ]\n            .filter(Boolean)\n            .join(\" \");\n        if (options.baseUrl) {\n            requestDefaults.baseUrl = options.baseUrl;\n        }\n        if (options.previews) {\n            requestDefaults.mediaType.previews = options.previews;\n        }\n        if (options.timeZone) {\n            requestDefaults.headers[\"time-zone\"] = options.timeZone;\n        }\n        this.request = request.defaults(requestDefaults);\n        this.graphql = withCustomRequest(this.request).defaults(requestDefaults);\n        this.log = Object.assign({\n            debug: () => { },\n            info: () => { },\n            warn: console.warn.bind(console),\n            error: console.error.bind(console),\n        }, options.log);\n        this.hook = hook;\n        // (1) If neither `options.authStrategy` nor `options.auth` are set, the `octokit` instance\n        //     is unauthenticated. The `this.auth()` method is a no-op and no request hook is registered.\n        // (2) If only `options.auth` is set, use the default token authentication strategy.\n        // (3) If `options.authStrategy` is set then use it and pass in `options.auth`. Always pass own request as many strategies accept a custom request instance.\n        // TODO: type `options.auth` based on `options.authStrategy`.\n        if (!options.authStrategy) {\n            if (!options.auth) {\n                // (1)\n                this.auth = async () => ({\n                    type: \"unauthenticated\",\n                });\n            }\n            else {\n                // (2)\n                const auth = createTokenAuth(options.auth);\n                // @ts-ignore  \\_()_/\n                hook.wrap(\"request\", auth.hook);\n                this.auth = auth;\n            }\n        }\n        else {\n            const { authStrategy, ...otherOptions } = options;\n            const auth = authStrategy(Object.assign({\n                request: this.request,\n                log: this.log,\n                // we pass the current octokit instance as well as its constructor options\n                // to allow for authentication strategies that return a new octokit instance\n                // that shares the same internal state as the current one. The original\n                // requirement for this was the \"event-octokit\" authentication strategy\n                // of https://github.com/probot/octokit-auth-probot.\n                octokit: this,\n                octokitOptions: otherOptions,\n            }, options.auth));\n            // @ts-ignore  \\_()_/\n            hook.wrap(\"request\", auth.hook);\n            this.auth = auth;\n        }\n        // apply plugins\n        // https://stackoverflow.com/a/16345172\n        const classConstructor = this.constructor;\n        classConstructor.plugins.forEach((plugin) => {\n            Object.assign(this, plugin(this, options));\n        });\n    }\n    static defaults(defaults) {\n        const OctokitWithDefaults = class extends this {\n            constructor(...args) {\n                const options = args[0] || {};\n                if (typeof defaults === \"function\") {\n                    super(defaults(options));\n                    return;\n                }\n                super(Object.assign({}, defaults, options, options.userAgent && defaults.userAgent\n                    ? {\n                        userAgent: `${options.userAgent} ${defaults.userAgent}`,\n                    }\n                    : null));\n            }\n        };\n        return OctokitWithDefaults;\n    }\n    /**\n     * Attach a plugin (or many) to your Octokit instance.\n     *\n     * @example\n     * const API = Octokit.plugin(plugin1, plugin2, plugin3, ...)\n     */\n    static plugin(...newPlugins) {\n        var _a;\n        const currentPlugins = this.plugins;\n        const NewOctokit = (_a = class extends this {\n            },\n            _a.plugins = currentPlugins.concat(newPlugins.filter((plugin) => !currentPlugins.includes(plugin))),\n            _a);\n        return NewOctokit;\n    }\n}\nOctokit.VERSION = VERSION;\nOctokit.plugins = [];\n\nexport { Octokit };\n//# sourceMappingURL=index.js.map\n","import { Octokit } from '@octokit/core';\nimport { GraphqlResponseError } from '@octokit/graphql';\nimport { RequestError } from '@octokit/request-error';\nimport type { Endpoints, OctokitResponse, RequestParameters } from '@octokit/types';\nimport type { HttpsProxyAgent } from 'https-proxy-agent';\nimport { Disposable, Event, EventEmitter, window } from 'vscode';\nimport { fetch, getProxyAgent } from '@env/fetch';\nimport { isWeb } from '@env/platform';\nimport { configuration } from '../../configuration';\nimport type { Container } from '../../container';\nimport {\n\tAuthenticationError,\n\tAuthenticationErrorReason,\n\tProviderRequestClientError,\n\tProviderRequestNotFoundError,\n\tProviderRequestRateLimitError,\n} from '../../errors';\nimport { PagedResult, RepositoryVisibility } from '../../git/gitProvider';\nimport { type DefaultBranch, GitRevision, type GitUser, type IssueOrPullRequest, PullRequest } from '../../git/models';\nimport type { Account } from '../../git/models/author';\nimport type { RichRemoteProvider } from '../../git/remotes/provider';\nimport { LogCorrelationContext, Logger, LogLevel } from '../../logger';\nimport { debug } from '../../system/decorators/log';\nimport { Stopwatch } from '../../system/stopwatch';\nimport {\n\tGitHubBlame,\n\tGitHubBlameRange,\n\tGitHubBranch,\n\tGitHubCommit,\n\tGitHubCommitRef,\n\tGitHubContributor,\n\tGitHubIssueOrPullRequest,\n\tGitHubPagedResult,\n\tGitHubPageInfo,\n\tGitHubPullRequest,\n\tGitHubPullRequestState,\n\tGitHubTag,\n} from './models';\n\nconst emptyPagedResult: PagedResult<any> = Object.freeze({ values: [] });\nconst emptyBlameResult: GitHubBlame = Object.freeze({ ranges: [] });\n\nexport class GitHubApi implements Disposable {\n\tprivate readonly _onDidReauthenticate = new EventEmitter<void>();\n\tget onDidReauthenticate(): Event<void> {\n\t\treturn this._onDidReauthenticate.event;\n\t}\n\n\tprivate _disposable: Disposable | undefined;\n\n\tconstructor(_container: Container) {\n\t\tthis._disposable = Disposable.from(\n\t\t\tconfiguration.onDidChange(e => {\n\t\t\t\tif (configuration.changed(e, 'proxy')) {\n\t\t\t\t\tthis._proxyAgent = null;\n\t\t\t\t\tthis._octokits.clear();\n\t\t\t\t} else if (configuration.changed(e, 'outputLevel')) {\n\t\t\t\t\tthis._octokits.clear();\n\t\t\t\t}\n\t\t\t}),\n\t\t\tconfiguration.onDidChangeAny(e => {\n\t\t\t\tif (e.affectsConfiguration('http.proxy') || e.affectsConfiguration('http.proxyStrictSSL')) {\n\t\t\t\t\tthis._proxyAgent = null;\n\t\t\t\t\tthis._octokits.clear();\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\n\tdispose(): void {\n\t\tthis._disposable?.dispose();\n\t}\n\n\tprivate _proxyAgent: HttpsProxyAgent | null | undefined = null;\n\tprivate get proxyAgent(): HttpsProxyAgent | undefined {\n\t\tif (isWeb) return undefined;\n\n\t\tif (this._proxyAgent === null) {\n\t\t\tthis._proxyAgent = getProxyAgent();\n\t\t}\n\t\treturn this._proxyAgent;\n\t}\n\n\t@debug<GitHubApi['getAccountForCommit']>({ args: { 0: p => p.name, 1: '<token>' } })\n\tasync getAccountForCommit(\n\t\tprovider: RichRemoteProvider,\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t\toptions?: {\n\t\t\tbaseUrl?: string;\n\t\t\tavatarSize?: number;\n\t\t},\n\t): Promise<Account | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tobject:\n\t\t\t\t\t\t\t| {\n\t\t\t\t\t\t\t\t\tauthor?: {\n\t\t\t\t\t\t\t\t\t\tname: string | null;\n\t\t\t\t\t\t\t\t\t\temail: string | null;\n\t\t\t\t\t\t\t\t\t\tavatarUrl: string;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t| null\n\t\t\t\t\t\t\t| undefined;\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getAccountForCommit(\n\t$owner: String!\n\t$repo: String!\n\t$ref: GitObjectID!\n\t$avatarSize: Int\n) {\n\trepository(name: $repo, owner: $owner) {\n\t\tobject(oid: $ref) {\n\t\t\t... on Commit {\n\t\t\t\tauthor {\n\t\t\t\t\tname\n\t\t\t\t\temail\n\t\t\t\t\tavatarUrl(size: $avatarSize)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\t...options,\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t});\n\n\t\t\tconst author = rsp?.repository?.object?.author;\n\t\t\tif (author == null) return undefined;\n\n\t\t\treturn {\n\t\t\t\tprovider: provider,\n\t\t\t\tname: author.name ?? undefined,\n\t\t\t\temail: author.email ?? undefined,\n\t\t\t\tavatarUrl: author.avatarUrl,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getAccountForEmail']>({ args: { 0: p => p.name, 1: '<token>' } })\n\tasync getAccountForEmail(\n\t\tprovider: RichRemoteProvider,\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\temail: string,\n\t\toptions?: {\n\t\t\tbaseUrl?: string;\n\t\t\tavatarSize?: number;\n\t\t},\n\t): Promise<Account | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\tsearch:\n\t\t\t\t| {\n\t\t\t\t\t\tnodes:\n\t\t\t\t\t\t\t| {\n\t\t\t\t\t\t\t\t\tname: string | null;\n\t\t\t\t\t\t\t\t\temail: string | null;\n\t\t\t\t\t\t\t\t\tavatarUrl: string;\n\t\t\t\t\t\t\t  }[]\n\t\t\t\t\t\t\t| null\n\t\t\t\t\t\t\t| undefined;\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getAccountForEmail(\n\t$emailQuery: String!\n\t$avatarSize: Int\n) {\n\tsearch(type: USER, query: $emailQuery, first: 1) {\n\t\tnodes {\n\t\t\t... on User {\n\t\t\t\tname\n\t\t\t\temail\n\t\t\t\tavatarUrl(size: $avatarSize)\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\t...options,\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\temailQuery: `in:email ${email}`,\n\t\t\t});\n\n\t\t\tconst author = rsp?.search?.nodes?.[0];\n\t\t\tif (author == null) return undefined;\n\n\t\t\treturn {\n\t\t\t\tprovider: provider,\n\t\t\t\tname: author.name ?? undefined,\n\t\t\t\temail: author.email ?? undefined,\n\t\t\t\tavatarUrl: author.avatarUrl,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getDefaultBranch']>({ args: { 0: p => p.name, 1: '<token>' } })\n\tasync getDefaultBranch(\n\t\tprovider: RichRemoteProvider,\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\toptions?: {\n\t\t\tbaseUrl?: string;\n\t\t},\n\t): Promise<DefaultBranch | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tdefaultBranchRef: { name: string } | null | undefined;\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getDefaultBranch(\n\t$owner: String!\n\t$repo: String!\n) {\n\trepository(name: $repo, owner: $owner) {\n\t\tdefaultBranchRef {\n\t\t\tname\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\t...options,\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t});\n\n\t\t\tconst defaultBranch = rsp?.repository?.defaultBranchRef?.name ?? undefined;\n\t\t\tif (defaultBranch == null) return undefined;\n\n\t\t\treturn {\n\t\t\t\tprovider: provider,\n\t\t\t\tname: defaultBranch,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getIssueOrPullRequest']>({ args: { 0: p => p.name, 1: '<token>' } })\n\tasync getIssueOrPullRequest(\n\t\tprovider: RichRemoteProvider,\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tnumber: number,\n\t\toptions?: {\n\t\t\tbaseUrl?: string;\n\t\t},\n\t): Promise<IssueOrPullRequest | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository?: { issueOrPullRequest?: GitHubIssueOrPullRequest };\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getIssueOrPullRequest(\n\t\t$owner: String!\n\t\t$repo: String!\n\t\t$number: Int!\n\t) {\n\t\trepository(name: $repo, owner: $owner) {\n\t\t\tissueOrPullRequest(number: $number) {\n\t\t\t\t__typename\n\t\t\t\t... on Issue {\n\t\t\t\t\tcreatedAt\n\t\t\t\t\tclosed\n\t\t\t\t\tclosedAt\n\t\t\t\t\ttitle\n\t\t\t\t\turl\n\t\t\t\t}\n\t\t\t\t... on PullRequest {\n\t\t\t\t\tcreatedAt\n\t\t\t\t\tclosed\n\t\t\t\t\tclosedAt\n\t\t\t\t\ttitle\n\t\t\t\t\turl\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\t...options,\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tnumber: number,\n\t\t\t});\n\n\t\t\tconst issue = rsp?.repository?.issueOrPullRequest;\n\t\t\tif (issue == null) return undefined;\n\n\t\t\treturn {\n\t\t\t\tprovider: provider,\n\t\t\t\ttype: issue.type,\n\t\t\t\tid: String(number),\n\t\t\t\tdate: new Date(issue.createdAt),\n\t\t\t\ttitle: issue.title,\n\t\t\t\tclosed: issue.closed,\n\t\t\t\tclosedDate: issue.closedAt == null ? undefined : new Date(issue.closedAt),\n\t\t\t\turl: issue.url,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getPullRequestForBranch']>({ args: { 0: p => p.name, 1: '<token>' } })\n\tasync getPullRequestForBranch(\n\t\tprovider: RichRemoteProvider,\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tbranch: string,\n\t\toptions?: {\n\t\t\tbaseUrl?: string;\n\t\t\tavatarSize?: number;\n\t\t\tinclude?: GitHubPullRequestState[];\n\t\t},\n\t): Promise<PullRequest | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\trefs: {\n\t\t\t\t\t\t\tnodes: {\n\t\t\t\t\t\t\t\tassociatedPullRequests?: {\n\t\t\t\t\t\t\t\t\tnodes?: GitHubPullRequest[];\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}[];\n\t\t\t\t\t\t};\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getPullRequestForBranch(\n\t$owner: String!\n\t$repo: String!\n\t$branch: String!\n\t$limit: Int!\n\t$include: [PullRequestState!]\n\t$avatarSize: Int\n) {\n\trepository(name: $repo, owner: $owner) {\n\t\trefs(query: $branch, refPrefix: \"refs/heads/\", first: 1) {\n\t\t\tnodes {\n\t\t\t\tassociatedPullRequests(first: $limit, orderBy: {field: UPDATED_AT, direction: DESC}, states: $include) {\n\t\t\t\t\tnodes {\n\t\t\t\t\t\tauthor {\n\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\tavatarUrl(size: $avatarSize)\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpermalink\n\t\t\t\t\t\tnumber\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tstate\n\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\tclosedAt\n\t\t\t\t\t\tmergedAt\n\t\t\t\t\t\trepository {\n\t\t\t\t\t\t\tisFork\n\t\t\t\t\t\t\towner {\n\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\t...options,\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tbranch: branch,\n\t\t\t\t// Since GitHub sort doesn't seem to really work, look for a max of 10 PRs and then sort them ourselves\n\t\t\t\tlimit: 10,\n\t\t\t});\n\n\t\t\t// If the pr is not from a fork, keep it e.g. show root pr's on forks, otherwise, ensure the repo owners match\n\t\t\tconst prs = rsp?.repository?.refs.nodes[0]?.associatedPullRequests?.nodes?.filter(\n\t\t\t\tpr => !pr.repository.isFork || pr.repository.owner.login === owner,\n\t\t\t);\n\t\t\tif (prs == null || prs.length === 0) return undefined;\n\n\t\t\tif (prs.length > 1) {\n\t\t\t\tprs.sort(\n\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\t(a.repository.owner.login === owner ? -1 : 1) - (b.repository.owner.login === owner ? -1 : 1) ||\n\t\t\t\t\t\t(a.state === 'OPEN' ? -1 : 1) - (b.state === 'OPEN' ? -1 : 1) ||\n\t\t\t\t\t\tnew Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime(),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn GitHubPullRequest.from(prs[0], provider);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getPullRequestForCommit']>({ args: { 0: p => p.name, 1: '<token>' } })\n\tasync getPullRequestForCommit(\n\t\tprovider: RichRemoteProvider,\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t\toptions?: {\n\t\t\tbaseUrl?: string;\n\t\t\tavatarSize?: number;\n\t\t},\n\t): Promise<PullRequest | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tobject?: {\n\t\t\t\t\t\t\tassociatedPullRequests?: {\n\t\t\t\t\t\t\t\tnodes?: GitHubPullRequest[];\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getPullRequestForCommit(\n\t$owner: String!\n\t$repo: String!\n\t$ref: GitObjectID!\n\t$avatarSize: Int\n) {\n\trepository(name: $repo, owner: $owner) {\n\t\tobject(oid: $ref) {\n\t\t\t... on Commit {\n\t\t\t\tassociatedPullRequests(first: 2, orderBy: {field: UPDATED_AT, direction: DESC}) {\n\t\t\t\t\tnodes {\n\t\t\t\t\t\tauthor {\n\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\tavatarUrl(size: $avatarSize)\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpermalink\n\t\t\t\t\t\tnumber\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tstate\n\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\tclosedAt\n\t\t\t\t\t\tmergedAt\n\t\t\t\t\t\trepository {\n\t\t\t\t\t\t\tisFork\n\t\t\t\t\t\t\towner {\n\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\t...options,\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t});\n\n\t\t\t// If the pr is not from a fork, keep it e.g. show root pr's on forks, otherwise, ensure the repo owners match\n\t\t\tconst prs = rsp?.repository?.object?.associatedPullRequests?.nodes?.filter(\n\t\t\t\tpr => !pr.repository.isFork || pr.repository.owner.login === owner,\n\t\t\t);\n\t\t\tif (prs == null || prs.length === 0) return undefined;\n\n\t\t\tif (prs.length > 1) {\n\t\t\t\tprs.sort(\n\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\t(a.repository.owner.login === owner ? -1 : 1) - (b.repository.owner.login === owner ? -1 : 1) ||\n\t\t\t\t\t\t(a.state === 'OPEN' ? -1 : 1) - (b.state === 'OPEN' ? -1 : 1) ||\n\t\t\t\t\t\tnew Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime(),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn GitHubPullRequest.from(prs[0], provider);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getBlame']>({ args: { 0: '<token>' } })\n\tasync getBlame(token: string, owner: string, repo: string, ref: string, path: string): Promise<GitHubBlame> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\tviewer: { name: string };\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tobject: {\n\t\t\t\t\t\t\tblame: {\n\t\t\t\t\t\t\t\tranges: GitHubBlameRange[];\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getBlameRanges(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n\t$path: String!\n) {\n\tviewer { name }\n\trepository(owner: $owner, name: $repo) {\n\t\tobject(expression: $ref) {\n\t\t\t...on Commit {\n\t\t\t\tblame(path: $path) {\n\t\t\t\t\tranges {\n\t\t\t\t\t\tstartingLine\n\t\t\t\t\t\tendingLine\n\t\t\t\t\t\tcommit {\n\t\t\t\t\t\t\toid\n\t\t\t\t\t\t\tparents(first: 3) { nodes { oid } }\n\t\t\t\t\t\t\tmessage\n\t\t\t\t\t\t\tadditions\n\t\t\t\t\t\t\tchangedFiles\n\t\t\t\t\t\t\tdeletions\n\t\t\t\t\t\t\tauthor {\n\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\tdate\n\t\t\t\t\t\t\t\temail\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcommitter {\n\t\t\t\t\t\t\t\tdate\n\t\t\t\t\t\t\t\temail\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t\tpath: path,\n\t\t\t});\n\t\t\tif (rsp == null) return emptyBlameResult;\n\n\t\t\tconst ranges = rsp.repository?.object?.blame?.ranges;\n\t\t\tif (ranges == null || ranges.length === 0) return { ranges: [], viewer: rsp.viewer?.name };\n\n\t\t\treturn { ranges: ranges, viewer: rsp.viewer?.name };\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return emptyBlameResult;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getBranches']>({ args: { 0: '<token>' } })\n\tasync getBranches(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\toptions?: { query?: string; cursor?: string; limit?: number },\n\t): Promise<PagedResult<GitHubBranch>> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\trefs: {\n\t\t\t\t\t\t\tpageInfo: {\n\t\t\t\t\t\t\t\tendCursor: string;\n\t\t\t\t\t\t\t\thasNextPage: boolean;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tnodes: GitHubBranch[];\n\t\t\t\t\t\t};\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getBranches(\n\t$owner: String!\n\t$repo: String!\n\t$branchQuery: String\n\t$cursor: String\n\t$limit: Int = 100\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\trefs(query: $branchQuery, refPrefix: \"refs/heads/\", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {\n\t\t\tpageInfo {\n\t\t\t\tendCursor\n\t\t\t\thasNextPage\n\t\t\t}\n\t\t\tnodes {\n\t\t\t\tname\n\t\t\t\ttarget {\n\t\t\t\t\toid\n\t\t\t\t\tcommitUrl\n\t\t\t\t\t...on Commit {\n\t\t\t\t\t\tauthoredDate\n\t\t\t\t\t\tcommittedDate\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tbranchQuery: options?.query,\n\t\t\t\tcursor: options?.cursor,\n\t\t\t\tlimit: Math.min(100, options?.limit ?? 100),\n\t\t\t});\n\t\t\tif (rsp == null) return emptyPagedResult;\n\n\t\t\tconst refs = rsp.repository?.refs;\n\t\t\tif (refs == null) return emptyPagedResult;\n\n\t\t\treturn {\n\t\t\t\tpaging: {\n\t\t\t\t\tcursor: refs.pageInfo.endCursor,\n\t\t\t\t\tmore: refs.pageInfo.hasNextPage,\n\t\t\t\t},\n\t\t\t\tvalues: refs.nodes,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return emptyPagedResult;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getCommit']>({ args: { 0: '<token>' } })\n\tasync getCommit(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t): Promise<(GitHubCommit & { viewer?: string }) | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\ttry {\n\t\t\tconst rsp = await this.request(token, 'GET /repos/{owner}/{repo}/commits/{ref}', {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t});\n\n\t\t\tconst result = rsp?.data;\n\t\t\tif (result == null) return undefined;\n\n\t\t\tconst { commit } = result;\n\t\t\treturn {\n\t\t\t\toid: result.sha,\n\t\t\t\tparents: { nodes: result.parents.map(p => ({ oid: p.sha })) },\n\t\t\t\tmessage: commit.message,\n\t\t\t\tadditions: result.stats?.additions,\n\t\t\t\tchangedFiles: result.files?.length,\n\t\t\t\tdeletions: result.stats?.deletions,\n\t\t\t\tauthor: {\n\t\t\t\t\tavatarUrl: result.author?.avatar_url ?? undefined,\n\t\t\t\t\tdate: commit.author?.date ?? new Date().toString(),\n\t\t\t\t\temail: commit.author?.email ?? undefined,\n\t\t\t\t\tname: commit.author?.name ?? '',\n\t\t\t\t},\n\t\t\t\tcommitter: {\n\t\t\t\t\tdate: commit.committer?.date ?? new Date().toString(),\n\t\t\t\t\temail: commit.committer?.email ?? undefined,\n\t\t\t\t\tname: commit.committer?.name ?? '',\n\t\t\t\t},\n\t\t\t\tfiles: result.files,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\n\t\t// const results = await this.getCommits(token, owner, repo, ref, { limit: 1 });\n\t\t// if (results.values.length === 0) return undefined;\n\n\t\t// return { ...results.values[0], viewer: results.viewer };\n\t}\n\n\t@debug<GitHubApi['getCommitForFile']>({ args: { 0: '<token>' } })\n\tasync getCommitForFile(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t\tpath: string,\n\t): Promise<(GitHubCommit & { viewer?: string }) | undefined> {\n\t\tif (GitRevision.isSha(ref)) return this.getCommit(token, owner, repo, ref);\n\n\t\t// TODO: optimize this -- only need to get the sha for the ref\n\t\tconst results = await this.getCommits(token, owner, repo, ref, { limit: 1, path: path });\n\t\tif (results.values.length === 0) return undefined;\n\n\t\tconst commit = await this.getCommit(token, owner, repo, results.values[0].oid);\n\t\treturn { ...(commit ?? results.values[0]), viewer: results.viewer };\n\t}\n\n\t@debug<GitHubApi['getCommitBranches']>({ args: { 0: '<token>' } })\n\tasync getCommitBranches(token: string, owner: string, repo: string, ref: string, date: Date): Promise<string[]> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository: {\n\t\t\t\trefs: {\n\t\t\t\t\tnodes: {\n\t\t\t\t\t\tname: string;\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\thistory: {\n\t\t\t\t\t\t\t\tnodes: { oid: string }[];\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t}[];\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getCommitBranches(\n\t$owner: String!\n\t$repo: String!\n\t$since: GitTimestamp!\n\t$until: GitTimestamp!\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\trefs(first: 20, refPrefix: \"refs/heads/\", orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {\n\t\t\tnodes {\n\t\t\t\tname\n\t\t\t\ttarget {\n\t\t\t\t\t... on Commit {\n\t\t\t\t\t\thistory(first: 3, since: $since until: $until) {\n\t\t\t\t\t\t\tnodes { oid }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tsince: date.toISOString(),\n\t\t\t\tuntil: date.toISOString(),\n\t\t\t});\n\n\t\t\tconst nodes = rsp?.repository?.refs?.nodes;\n\t\t\tif (nodes == null) return [];\n\n\t\t\tconst branches = [];\n\n\t\t\tfor (const branch of nodes) {\n\t\t\t\tfor (const commit of branch.target.history.nodes) {\n\t\t\t\t\tif (commit.oid === ref) {\n\t\t\t\t\t\tbranches.push(branch.name);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn branches;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return [];\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getCommitCount']>({ args: { 0: '<token>' } })\n\tasync getCommitCount(token: string, owner: string, repo: string, ref: string): Promise<number | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository: {\n\t\t\t\tref: {\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\thistory: { totalCount: number };\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getCommitCount(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\tref(qualifiedName: $ref) {\n\t\t\ttarget {\n\t\t\t\t... on Commit {\n\t\t\t\t\thistory(first: 1) {\n\t\t\t\t\t\ttotalCount\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t});\n\n\t\t\tconst count = rsp?.repository?.ref?.target.history.totalCount;\n\t\t\treturn count;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getCommitOnBranch']>({ args: { 0: '<token>' } })\n\tasync getCommitOnBranch(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tbranch: string,\n\t\tref: string,\n\t\tdate: Date,\n\t): Promise<string[]> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository: {\n\t\t\t\tref: {\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\thistory: {\n\t\t\t\t\t\t\tnodes: { oid: string }[];\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\t\ttry {\n\t\t\tconst query = `query getCommitOnBranch(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n\t$since: GitTimestamp!\n\t$until: GitTimestamp!\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\tref(qualifiedName: $ref) {\n\t\t\ttarget {\n\t\t\t\t... on Commit {\n\t\t\t\t\thistory(first: 3, since: $since until: $until) {\n\t\t\t\t\t\tnodes { oid }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: `refs/heads/${branch}`,\n\t\t\t\tsince: date.toISOString(),\n\t\t\t\tuntil: date.toISOString(),\n\t\t\t});\n\n\t\t\tconst nodes = rsp?.repository?.ref.target.history.nodes;\n\t\t\tif (nodes == null) return [];\n\n\t\t\tconst branches = [];\n\n\t\t\tfor (const commit of nodes) {\n\t\t\t\tif (commit.oid === ref) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn branches;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return [];\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getCommits']>({ args: { 0: '<token>' } })\n\tasync getCommits(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t\toptions?: {\n\t\t\tafter?: string;\n\t\t\tall?: boolean;\n\t\t\tauthors?: GitUser[];\n\t\t\tbefore?: string;\n\t\t\tlimit?: number;\n\t\t\tpath?: string;\n\t\t\tsince?: string | Date;\n\t\t\tuntil?: string | Date;\n\t\t},\n\t): Promise<PagedResult<GitHubCommit> & { viewer?: string }> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tif (options?.limit === 1 && options?.path == null) {\n\t\t\treturn this.getCommitsCoreSingle(token, owner, repo, ref);\n\t\t}\n\n\t\tinterface QueryResult {\n\t\t\tviewer: { name: string };\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tobject:\n\t\t\t\t\t\t\t| {\n\t\t\t\t\t\t\t\t\thistory: {\n\t\t\t\t\t\t\t\t\t\tpageInfo: GitHubPageInfo;\n\t\t\t\t\t\t\t\t\t\tnodes: GitHubCommit[];\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t| null\n\t\t\t\t\t\t\t| undefined;\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getCommits(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n\t$path: String\n\t$author: CommitAuthor\n\t$after: String\n\t$before: String\n\t$limit: Int = 100\n\t$since: GitTimestamp\n\t$until: GitTimestamp\n) {\n\tviewer { name }\n\trepository(name: $repo, owner: $owner) {\n\t\tobject(expression: $ref) {\n\t\t\t... on Commit {\n\t\t\t\thistory(first: $limit, author: $author, path: $path, after: $after, before: $before, since: $since, until: $until) {\n\t\t\t\t\tpageInfo {\n\t\t\t\t\t\tstartCursor\n\t\t\t\t\t\tendCursor\n\t\t\t\t\t\thasNextPage\n\t\t\t\t\t\thasPreviousPage\n\t\t\t\t\t}\n\t\t\t\t\tnodes {\n\t\t\t\t\t\t... on Commit {\n\t\t\t\t\t\t\toid\n\t\t\t\t\t\t\tmessage\n\t\t\t\t\t\t\tparents(first: 3) { nodes { oid } }\n\t\t\t\t\t\t\tadditions\n\t\t\t\t\t\t\tchangedFiles\n\t\t\t\t\t\t\tdeletions\n\t\t\t\t\t\t\tauthor {\n\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\tdate\n\t\t\t\t\t\t\t\temail\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcommitter {\n\t\t\t\t\t\t\t\t date\n\t\t\t\t\t\t\t\t email\n\t\t\t\t\t\t\t\t name\n\t\t\t\t\t\t\t }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tlet authors: { id?: string; emails?: string[] } | undefined;\n\t\t\tif (options?.authors != null) {\n\t\t\t\tif (options.authors.length === 1) {\n\t\t\t\t\tconst [author] = options.authors;\n\t\t\t\t\tauthors = {\n\t\t\t\t\t\tid: author.id,\n\t\t\t\t\t\temails: author.email ? [author.email] : undefined,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tconst emails = options.authors.filter(a => a.email).map(a => a.email!);\n\t\t\t\t\tauthors = emails.length ? { emails: emails } : undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t\tafter: options?.after,\n\t\t\t\tbefore: options?.before,\n\t\t\t\tpath: options?.path,\n\t\t\t\tauthor: authors,\n\t\t\t\tlimit: Math.min(100, options?.limit ?? 100),\n\t\t\t\tsince: typeof options?.since === 'string' ? options?.since : options?.since?.toISOString(),\n\t\t\t\tuntil: typeof options?.until === 'string' ? options?.until : options?.until?.toISOString(),\n\t\t\t});\n\t\t\tconst history = rsp?.repository?.object?.history;\n\t\t\tif (history == null) return emptyPagedResult;\n\n\t\t\treturn {\n\t\t\t\tpaging:\n\t\t\t\t\thistory.pageInfo.endCursor != null\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tcursor: history.pageInfo.endCursor ?? undefined,\n\t\t\t\t\t\t\t\tmore: history.pageInfo.hasNextPage,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: undefined,\n\t\t\t\tvalues: history.nodes,\n\t\t\t\tviewer: rsp?.viewer.name,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return emptyPagedResult;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\tprivate async getCommitsCoreSingle(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t): Promise<PagedResult<GitHubCommit> & { viewer?: string }> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\tviewer: { name: string };\n\t\t\trepository: { object: GitHubCommit } | null | undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getCommit(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n) {\n\tviewer { name }\n\trepository(name: $repo owner: $owner) {\n\t\tobject(expression: $ref) {\n\t\t\t...on Commit {\n\t\t\t\toid\n\t\t\t\tparents(first: 3) { nodes { oid } }\n\t\t\t\tmessage\n\t\t\t\tadditions\n\t\t\t\tchangedFiles\n\t\t\t\tdeletions\n\t\t\t\tauthor {\n\t\t\t\t\tavatarUrl\n\t\t\t\t\tdate\n\t\t\t\t\temail\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t\tcommitter {\n\t\t\t\t\tdate\n\t\t\t\t\temail\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t});\n\t\t\tif (rsp == null) return emptyPagedResult;\n\n\t\t\tconst commit = rsp.repository?.object;\n\t\t\treturn commit != null ? { values: [commit], viewer: rsp.viewer.name } : emptyPagedResult;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return emptyPagedResult;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getCommitRefs']>({ args: { 0: '<token>' } })\n\tasync getCommitRefs(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t\toptions?: {\n\t\t\tafter?: string;\n\t\t\tbefore?: string;\n\t\t\tfirst?: number;\n\t\t\tlast?: number;\n\t\t\tpath?: string;\n\t\t\tsince?: string;\n\t\t\tuntil?: string;\n\t\t},\n\t): Promise<GitHubPagedResult<GitHubCommitRef> | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tobject:\n\t\t\t\t\t\t\t| {\n\t\t\t\t\t\t\t\t\thistory: {\n\t\t\t\t\t\t\t\t\t\tpageInfo: GitHubPageInfo;\n\t\t\t\t\t\t\t\t\t\ttotalCount: number;\n\t\t\t\t\t\t\t\t\t\tnodes: GitHubCommitRef[];\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t| null\n\t\t\t\t\t\t\t| undefined;\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getCommitRefs(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n\t$after: String\n\t$before: String\n\t$first: Int\n\t$last: Int\n\t$path: String\n\t$since: GitTimestamp\n\t$until: GitTimestamp\n) {\n\trepository(name: $repo, owner: $owner) {\n\t\tobject(expression: $ref) {\n\t\t\t... on Commit {\n\t\t\t\thistory(first: $first, last: $last, path: $path, since: $since, until: $until, after: $after, before: $before) {\n\t\t\t\t\tpageInfo { startCursor, endCursor, hasNextPage, hasPreviousPage }\n\t\t\t\t\ttotalCount\n\t\t\t\t\tnodes { oid }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t\tpath: options?.path,\n\t\t\t\tfirst: options?.first,\n\t\t\t\tlast: options?.last,\n\t\t\t\tafter: options?.after,\n\t\t\t\tbefore: options?.before,\n\t\t\t\tsince: options?.since,\n\t\t\t\tuntil: options?.until,\n\t\t\t});\n\t\t\tconst history = rsp?.repository?.object?.history;\n\t\t\tif (history == null) return undefined;\n\n\t\t\treturn {\n\t\t\t\tpageInfo: history.pageInfo,\n\t\t\t\ttotalCount: history.totalCount,\n\t\t\t\tvalues: history.nodes,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getNextCommitRefs']>({ args: { 0: '<token>' } })\n\tasync getNextCommitRefs(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t\tpath: string,\n\t\tsha: string,\n\t): Promise<string[]> {\n\t\t// Get the commit date of the current commit\n\t\tconst commitDate = await this.getCommitDate(token, owner, repo, sha);\n\t\tif (commitDate == null) return [];\n\n\t\t// Get a resultset (just need the cursor and totals), to get the page info we need to construct a cursor to page backwards\n\t\tlet result = await this.getCommitRefs(token, owner, repo, ref, { path: path, first: 1, since: commitDate });\n\t\tif (result == null) return [];\n\n\t\t// Construct a cursor to allow use to walk backwards in time (starting at the tip going back in time until the commit date)\n\t\tconst cursor = `${result.pageInfo.startCursor!.split(' ', 1)[0]} ${result.totalCount}`;\n\n\t\tlet last;\n\t\t[, last] = cursor.split(' ', 2);\n\t\t// We can't ask for more commits than are left in the cursor (but try to get more to be safe, since the date isn't exact enough)\n\t\tlast = Math.min(parseInt(last, 10), 5);\n\n\t\t// Get the set of refs before the cursor\n\t\tresult = await this.getCommitRefs(token, owner, repo, ref, { path: path, last: last, before: cursor });\n\t\tif (result == null) return [];\n\n\t\tconst nexts: string[] = [];\n\n\t\tfor (const { oid } of result.values) {\n\t\t\tif (oid === sha) break;\n\n\t\t\tnexts.push(oid);\n\t\t}\n\n\t\treturn nexts.reverse();\n\t}\n\n\tprivate async getCommitDate(token: string, owner: string, repo: string, sha: string): Promise<string | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tobject: { committer: { date: string } } | null | undefined;\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getCommitDate(\n\t$owner: String!\n\t$repo: String!\n\t$sha: GitObjectID!\n) {\n\trepository(name: $repo, owner: $owner) {\n\t\tobject(oid: $sha) {\n\t\t\t... on Commit { committer { date } }\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tsha: sha,\n\t\t\t});\n\t\t\tconst date = rsp?.repository?.object?.committer.date;\n\t\t\treturn date;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getContributors']>({ args: { 0: '<token>' } })\n\tasync getContributors(token: string, owner: string, repo: string): Promise<GitHubContributor[]> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\t// TODO@eamodio implement pagination\n\n\t\ttry {\n\t\t\tconst rsp = await this.request(token, 'GET /repos/{owner}/{repo}/contributors', {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tper_page: 100,\n\t\t\t});\n\n\t\t\tconst result = rsp?.data;\n\t\t\tif (result == null) return [];\n\n\t\t\treturn rsp.data;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return [];\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getDefaultBranchName']>({ args: { 0: '<token>' } })\n\tasync getDefaultBranchName(token: string, owner: string, repo: string): Promise<string | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tdefaultBranchRef: { name: string } | null | undefined;\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getDefaultBranch(\n\t$owner: String!\n\t$repo: String!\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\tdefaultBranchRef {\n\t\t\tname\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t});\n\t\t\tif (rsp == null) return undefined;\n\n\t\t\treturn rsp.repository?.defaultBranchRef?.name ?? undefined;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getCurrentUser']>({ args: { 0: '<token>' } })\n\tasync getCurrentUser(token: string, owner: string, repo: string): Promise<GitUser | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\tviewer: {\n\t\t\t\tname: string;\n\t\t\t\temail: string;\n\t\t\t\tlogin: string;\n\t\t\t\tid: string;\n\t\t\t};\n\t\t\trepository: { viewerPermission: string } | null | undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getCurrentUser(\n\t$owner: String!\n\t$repo: String!\n) {\n\tviewer { name, email, login, id }\n\trepository(owner: $owner, name: $repo) { viewerPermission }\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t});\n\t\t\tif (rsp == null) return undefined;\n\n\t\t\treturn {\n\t\t\t\tname: rsp.viewer?.name,\n\t\t\t\temail: rsp.viewer?.email,\n\t\t\t\tusername: rsp.viewer?.login,\n\t\t\t\tid: rsp.viewer?.id,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getRepositoryVisibility']>({ args: { 0: '<token>' } })\n\tasync getRepositoryVisibility(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t): Promise<RepositoryVisibility | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\tvisibility: 'PUBLIC' | 'PRIVATE' | 'INTERNAL';\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getRepositoryVisibility(\n\t$owner: String!\n\t$repo: String!\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\tvisibility\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t});\n\t\t\tif (rsp?.repository?.visibility == null) return undefined;\n\n\t\t\treturn rsp.repository.visibility === 'PUBLIC' ? RepositoryVisibility.Public : RepositoryVisibility.Private;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['getTags']>({ args: { 0: '<token>' } })\n\tasync getTags(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\toptions?: { query?: string; cursor?: string; limit?: number },\n\t): Promise<PagedResult<GitHubTag>> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tinterface QueryResult {\n\t\t\trepository:\n\t\t\t\t| {\n\t\t\t\t\t\trefs: {\n\t\t\t\t\t\t\tpageInfo: {\n\t\t\t\t\t\t\t\tendCursor: string;\n\t\t\t\t\t\t\t\thasNextPage: boolean;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tnodes: GitHubTag[];\n\t\t\t\t\t\t};\n\t\t\t\t  }\n\t\t\t\t| null\n\t\t\t\t| undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst query = `query getTags(\n\t$owner: String!\n\t$repo: String!\n\t$tagQuery: String\n\t$cursor: String\n\t$limit: Int = 100\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\trefs(query: $tagQuery, refPrefix: \"refs/tags/\", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {\n\t\t\tpageInfo {\n\t\t\t\tendCursor\n\t\t\t\thasNextPage\n\t\t\t}\n\t\t\tnodes {\n\t\t\t\tname\n\t\t\t\ttarget {\n\t\t\t\t\toid\n\t\t\t\t\tcommitUrl\n\t\t\t\t\t...on Commit {\n\t\t\t\t\t\tauthoredDate\n\t\t\t\t\t\tcommittedDate\n\t\t\t\t\t\tmessage\n\t\t\t\t\t}\n\t\t\t\t\t...on Tag {\n\t\t\t\t\t\tmessage\n\t\t\t\t\t\ttagger { date }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\ttagQuery: options?.query,\n\t\t\t\tcursor: options?.cursor,\n\t\t\t\tlimit: Math.min(100, options?.limit ?? 100),\n\t\t\t});\n\t\t\tif (rsp == null) return emptyPagedResult;\n\n\t\t\tconst refs = rsp.repository?.refs;\n\t\t\tif (refs == null) return emptyPagedResult;\n\n\t\t\treturn {\n\t\t\t\tpaging: {\n\t\t\t\t\tcursor: refs.pageInfo.endCursor,\n\t\t\t\t\tmore: refs.pageInfo.hasNextPage,\n\t\t\t\t},\n\t\t\t\tvalues: refs.nodes,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return emptyPagedResult;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['resolveReference']>({ args: { 0: '<token>' } })\n\tasync resolveReference(\n\t\ttoken: string,\n\t\towner: string,\n\t\trepo: string,\n\t\tref: string,\n\t\tpath?: string,\n\t): Promise<string | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\ttry {\n\t\t\tif (!path) {\n\t\t\t\tinterface QueryResult {\n\t\t\t\t\trepository: { object: GitHubCommitRef } | null | undefined;\n\t\t\t\t}\n\n\t\t\t\tconst query = `query resolveReference(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\tobject(expression: $ref) {\n\t\t\toid\n\t\t}\n\t}\n}`;\n\n\t\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\t\towner: owner,\n\t\t\t\t\trepo: repo,\n\t\t\t\t\tref: ref,\n\t\t\t\t});\n\t\t\t\treturn rsp?.repository?.object?.oid ?? undefined;\n\t\t\t}\n\n\t\t\tinterface QueryResult {\n\t\t\t\trepository:\n\t\t\t\t\t| {\n\t\t\t\t\t\t\tobject: {\n\t\t\t\t\t\t\t\thistory: {\n\t\t\t\t\t\t\t\t\tnodes: GitHubCommitRef[];\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t  }\n\t\t\t\t\t| null\n\t\t\t\t\t| undefined;\n\t\t\t}\n\n\t\t\tconst query = `query resolveReference(\n\t$owner: String!\n\t$repo: String!\n\t$ref: String!\n\t$path: String!\n) {\n\trepository(owner: $owner, name: $repo) {\n\t\tobject(expression: $ref) {\n\t\t\t... on Commit {\n\t\t\t\thistory(first: 1, path: $path) {\n\t\t\t\t\tnodes { oid }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\n\t\t\tconst rsp = await this.graphql<QueryResult>(token, query, {\n\t\t\t\towner: owner,\n\t\t\t\trepo: repo,\n\t\t\t\tref: ref,\n\t\t\t\tpath: path,\n\t\t\t});\n\t\t\treturn rsp?.repository?.object?.history.nodes?.[0]?.oid ?? undefined;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\t@debug<GitHubApi['searchCommits']>({ args: { 0: '<token>' } })\n\tasync searchCommits(\n\t\ttoken: string,\n\t\tquery: string,\n\t\toptions?: {\n\t\t\tcursor?: string;\n\t\t\tlimit?: number;\n\t\t\torder?: 'asc' | 'desc' | undefined;\n\t\t\tsort?: 'author-date' | 'committer-date' | undefined;\n\t\t},\n\t): Promise<GitHubPagedResult<GitHubCommit> | undefined> {\n\t\tconst cc = Logger.getCorrelationContext();\n\n\t\tconst limit = Math.min(100, options?.limit ?? 100);\n\n\t\tlet page;\n\t\tlet pageSize;\n\t\tlet previousCount;\n\t\tif (options?.cursor != null) {\n\t\t\t[page, pageSize, previousCount] = options.cursor.split(' ', 3);\n\t\t\tpage = parseInt(page, 10);\n\t\t\t// TODO@eamodio need to figure out how allow different page sizes if the limit changes\n\t\t\tpageSize = parseInt(pageSize, 10);\n\t\t\tpreviousCount = parseInt(previousCount, 10);\n\t\t} else {\n\t\t\tpage = 1;\n\t\t\tpageSize = limit;\n\t\t\tpreviousCount = 0;\n\t\t}\n\n\t\ttry {\n\t\t\tconst rsp = await this.request(token, 'GET /search/commits', {\n\t\t\t\tq: query,\n\t\t\t\tsort: options?.sort,\n\t\t\t\torder: options?.order,\n\t\t\t\tper_page: pageSize,\n\t\t\t\tpage: page,\n\t\t\t});\n\n\t\t\tconst data = rsp?.data;\n\t\t\tif (data == null || data.items.length === 0) return undefined;\n\n\t\t\tconst commits = data.items.map<GitHubCommit>(result => ({\n\t\t\t\toid: result.sha,\n\t\t\t\tparents: { nodes: result.parents.map(p => ({ oid: p.sha! })) },\n\t\t\t\tmessage: result.commit.message,\n\t\t\t\tauthor: {\n\t\t\t\t\tavatarUrl: result.author?.avatar_url ?? undefined,\n\t\t\t\t\tdate: result.commit.author?.date ?? result.commit.author?.date ?? new Date().toString(),\n\t\t\t\t\temail: result.author?.email ?? result.commit.author?.email ?? undefined,\n\t\t\t\t\tname: result.author?.name ?? result.commit.author?.name ?? '',\n\t\t\t\t},\n\t\t\t\tcommitter: {\n\t\t\t\t\tdate: result.commit.committer?.date ?? result.committer?.date ?? new Date().toString(),\n\t\t\t\t\temail: result.committer?.email ?? result.commit.committer?.email ?? undefined,\n\t\t\t\t\tname: result.committer?.name ?? result.commit.committer?.name ?? '',\n\t\t\t\t},\n\t\t\t}));\n\n\t\t\tconst count = previousCount + data.items.length;\n\t\t\tconst hasMore = data.incomplete_results || data.total_count > count;\n\n\t\t\treturn {\n\t\t\t\tpageInfo: {\n\t\t\t\t\tstartCursor: `${page} ${pageSize} ${previousCount}`,\n\t\t\t\t\tendCursor: hasMore ? `${page + 1} ${pageSize} ${count}` : undefined,\n\t\t\t\t\thasPreviousPage: data.total_count > 0 && page > 1,\n\t\t\t\t\thasNextPage: hasMore,\n\t\t\t\t},\n\t\t\t\ttotalCount: data.total_count,\n\t\t\t\tvalues: commits,\n\t\t\t};\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof ProviderRequestNotFoundError) return undefined;\n\n\t\t\tthrow this.handleException(ex, cc);\n\t\t}\n\t}\n\n\tprivate _octokits = new Map<string, Octokit>();\n\tprivate octokit(token: string, options?: ConstructorParameters<typeof Octokit>[0]): Octokit {\n\t\tlet octokit = this._octokits.get(token);\n\t\tif (octokit == null) {\n\t\t\tlet defaults;\n\t\t\tif (isWeb) {\n\t\t\t\tfunction fetchCore(url: string, options: { headers?: Record<string, string> }) {\n\t\t\t\t\tif (options.headers != null) {\n\t\t\t\t\t\t// Strip out the user-agent (since it causes warnings in a webworker)\n\t\t\t\t\t\tconst { 'user-agent': userAgent, ...headers } = options.headers;\n\t\t\t\t\t\tif (userAgent) {\n\t\t\t\t\t\t\toptions.headers = headers;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn fetch(url, options);\n\t\t\t\t}\n\n\t\t\t\tdefaults = Octokit.defaults({\n\t\t\t\t\tauth: `token ${token}`,\n\t\t\t\t\trequest: { fetch: fetchCore },\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdefaults = Octokit.defaults({ auth: `token ${token}`, request: { agent: this.proxyAgent } });\n\t\t\t}\n\n\t\t\toctokit = new defaults(options);\n\t\t\tthis._octokits.set(token, octokit);\n\n\t\t\tif (Logger.logLevel === LogLevel.Debug || Logger.isDebugging) {\n\t\t\t\toctokit.hook.wrap('request', async (request, options) => {\n\t\t\t\t\tconst stopwatch = new Stopwatch(`[GITHUB] ${options.method} ${options.url}`, { log: false });\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn await request(options);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tlet message;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (typeof options.query === 'string') {\n\t\t\t\t\t\t\t\tconst match = /(^[^({\\n]+)/.exec(options.query);\n\t\t\t\t\t\t\t\tmessage = ` ${match?.[1].trim() ?? options.query}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\tstopwatch.stop({ message: message });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn octokit;\n\t}\n\n\tprivate async graphql<T>(token: string, query: string, variables: { [key: string]: any }): Promise<T | undefined> {\n\t\ttry {\n\t\t\treturn await this.octokit(token).graphql<T>(query, variables);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof GraphqlResponseError) {\n\t\t\t\tswitch (ex.errors?.[0]?.type) {\n\t\t\t\t\tcase 'NOT_FOUND':\n\t\t\t\t\t\tthrow new ProviderRequestNotFoundError(ex);\n\t\t\t\t\tcase 'FORBIDDEN':\n\t\t\t\t\t\tthrow new AuthenticationError('github', AuthenticationErrorReason.Forbidden, ex);\n\t\t\t\t\tcase 'RATE_LIMITED': {\n\t\t\t\t\t\tlet resetAt: number | undefined;\n\n\t\t\t\t\t\tconst reset = ex.headers?.['x-ratelimit-reset'];\n\t\t\t\t\t\tif (reset != null) {\n\t\t\t\t\t\t\tresetAt = parseInt(reset, 10);\n\t\t\t\t\t\t\tif (Number.isNaN(resetAt)) {\n\t\t\t\t\t\t\t\tresetAt = undefined;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthrow new ProviderRequestRateLimitError(ex, token, resetAt);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (Logger.isDebugging) {\n\t\t\t\t\tvoid window.showErrorMessage(`GitHub request failed: ${ex.errors?.[0]?.message ?? ex.message}`);\n\t\t\t\t}\n\t\t\t} else if (ex instanceof RequestError) {\n\t\t\t\tthis.handleRequestError(ex, token);\n\t\t\t} else if (Logger.isDebugging) {\n\t\t\t\tvoid window.showErrorMessage(`GitHub request failed: ${ex.message}`);\n\t\t\t}\n\n\t\t\tthrow ex;\n\t\t}\n\t}\n\n\tprivate async request<R extends string>(\n\t\ttoken: string,\n\t\troute: keyof Endpoints | R,\n\t\toptions?: R extends keyof Endpoints ? Endpoints[R]['parameters'] & RequestParameters : RequestParameters,\n\t): Promise<R extends keyof Endpoints ? Endpoints[R]['response'] : OctokitResponse<unknown>> {\n\t\ttry {\n\t\t\treturn (await this.octokit(token).request<R>(route, options)) as any;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof RequestError) {\n\t\t\t\tthis.handleRequestError(ex, token);\n\t\t\t} else if (Logger.isDebugging) {\n\t\t\t\tvoid window.showErrorMessage(`GitHub request failed: ${ex.message}`);\n\t\t\t}\n\n\t\t\tthrow ex;\n\t\t}\n\t}\n\n\tprivate handleRequestError(ex: RequestError, token: string): void {\n\t\tswitch (ex.status) {\n\t\t\tcase 404: // Not found\n\t\t\tcase 410: // Gone\n\t\t\tcase 422: // Unprocessable Entity\n\t\t\t\tthrow new ProviderRequestNotFoundError(ex);\n\t\t\t// case 429: //Too Many Requests\n\t\t\tcase 401: // Unauthorized\n\t\t\t\tthrow new AuthenticationError('github', AuthenticationErrorReason.Unauthorized, ex);\n\t\t\tcase 403: // Forbidden\n\t\t\t\tif (ex.message.includes('rate limit')) {\n\t\t\t\t\tlet resetAt: number | undefined;\n\n\t\t\t\t\tconst reset = ex.response?.headers?.['x-ratelimit-reset'];\n\t\t\t\t\tif (reset != null) {\n\t\t\t\t\t\tresetAt = parseInt(reset, 10);\n\t\t\t\t\t\tif (Number.isNaN(resetAt)) {\n\t\t\t\t\t\t\tresetAt = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow new ProviderRequestRateLimitError(ex, token, resetAt);\n\t\t\t\t}\n\t\t\t\tthrow new AuthenticationError('github', AuthenticationErrorReason.Forbidden, ex);\n\t\t\tcase 500: // Internal Server Error\n\t\t\t\tif (ex.response != null) {\n\t\t\t\t\tvoid window.showErrorMessage(\n\t\t\t\t\t\t'GitHub failed to respond and might be experiencing issues. Please visit the [GitHub status page](https://githubstatus.com) for more information.',\n\t\t\t\t\t\t'OK',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\tcase 502: // Bad Gateway\n\t\t\t\t// GitHub seems to return this status code for timeouts\n\t\t\t\tif (ex.message.includes('timeout')) {\n\t\t\t\t\tvoid window.showErrorMessage('GitHub request timed out');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (ex.status >= 400 && ex.status < 500) throw new ProviderRequestClientError(ex);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (Logger.isDebugging) {\n\t\t\tvoid window.showErrorMessage(\n\t\t\t\t`GitHub request failed: ${(ex.response as any)?.errors?.[0]?.message ?? ex.message}`,\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate handleException(ex: Error, cc: LogCorrelationContext | undefined): Error {\n\t\tLogger.error(ex, cc);\n\t\tdebugger;\n\n\t\tif (ex instanceof AuthenticationError) {\n\t\t\tvoid this.showAuthenticationErrorMessage(ex);\n\t\t}\n\t\treturn ex;\n\t}\n\n\tprivate async showAuthenticationErrorMessage(ex: AuthenticationError) {\n\t\tif (ex.reason === AuthenticationErrorReason.Unauthorized || ex.reason === AuthenticationErrorReason.Forbidden) {\n\t\t\tconst confirm = 'Reauthenticate';\n\t\t\tconst result = await window.showErrorMessage(\n\t\t\t\t`${ex.message}. Would you like to try reauthenticating${\n\t\t\t\t\tex.reason === AuthenticationErrorReason.Forbidden ? ' to provide additional access' : ''\n\t\t\t\t}?`,\n\t\t\t\tconfirm,\n\t\t\t);\n\n\t\t\tif (result === confirm) {\n\t\t\t\tthis._onDidReauthenticate.fire();\n\t\t\t}\n\t\t} else {\n\t\t\tvoid window.showErrorMessage(ex.message);\n\t\t}\n\t}\n}\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n"],"names":[],"sourceRoot":""}