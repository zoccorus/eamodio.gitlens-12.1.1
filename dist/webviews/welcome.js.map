{"version":3,"file":"welcome.js","mappings":"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","sources":["webpack:///../protocol.ts","webpack:///../../system/date.ts","webpack:///./shared/dom.ts","webpack:///./shared/colors.ts","webpack:///./shared/theme.ts","webpack:///./shared/appBase.ts","webpack:///./shared/appWithConfigBase.ts","webpack:///./welcome/welcome.ts"],"sourcesContent":["import type { Config } from '../config';\n\nexport interface IpcMessage {\n\tid: string;\n\tmethod: string;\n\tparams?: unknown;\n}\n\nabstract class IpcMessageType<Params = void> {\n\t_?: Params; // Required for type inferencing to work properly\n\tconstructor(public readonly method: string) {}\n}\nexport type IpcMessageParams<T> = T extends IpcMessageType<infer P> ? P : never;\n\n/**\n * Commands are sent from the webview to the extension\n */\nexport class IpcCommandType<Params = void> extends IpcMessageType<Params> {}\n/**\n * Notifications are sent from the extension to the webview\n */\nexport class IpcNotificationType<Params = void> extends IpcMessageType<Params> {}\n\nexport function onIpc<T extends IpcMessageType<any>>(\n\ttype: T,\n\tmsg: IpcMessage,\n\tfn: (params: IpcMessageParams<T>) => unknown,\n) {\n\tif (type.method !== msg.method) return;\n\n\tfn(msg.params as IpcMessageParams<T>);\n}\n\n// COMMANDS\n\nexport const WebviewReadyCommandType = new IpcCommandType('webview/ready');\n\nexport interface ExecuteCommandParams {\n\tcommand: string;\n\targs?: [];\n}\nexport const ExecuteCommandType = new IpcCommandType<ExecuteCommandParams>('command/execute');\n\nexport interface GenerateCommitPreviewParams {\n\tkey: string;\n\ttype: 'commit';\n\tformat: string;\n}\n\ntype GenerateConfigurationPreviewParams = GenerateCommitPreviewParams;\nexport const GenerateConfigurationPreviewCommandType = new IpcCommandType<GenerateConfigurationPreviewParams>(\n\t'configuration/preview',\n);\n\nexport interface UpdateConfigurationParams {\n\tchanges: {\n\t\t[key: string]: any;\n\t};\n\tremoves: string[];\n\tscope?: 'user' | 'workspace';\n\turi?: string;\n}\nexport const UpdateConfigurationCommandType = new IpcCommandType<UpdateConfigurationParams>('configuration/update');\n\n// NOTIFICATIONS\n\nexport interface DidChangeConfigurationParams {\n\tconfig: Config;\n\tcustomSettings: Record<string, boolean>;\n}\nexport const DidChangeConfigurationNotificationType = new IpcNotificationType<DidChangeConfigurationParams>(\n\t'configuration/didChange',\n);\n\nexport interface DidGenerateConfigurationPreviewParams {\n\tcompletionId: string;\n\tpreview: string;\n}\n\nexport const DidGenerateConfigurationPreviewNotificationType =\n\tnew IpcNotificationType<DidGenerateConfigurationPreviewParams>('configuration/didPreview');\n\nexport interface DidOpenAnchorParams {\n\tanchor: string;\n\tscrollBehavior: 'auto' | 'smooth';\n}\nexport const DidOpenAnchorNotificationType = new IpcNotificationType<DidOpenAnchorParams>('webview/didOpenAnchor');\n","// NOTE@eamodio If this changes we need to update the replacement function too (since its parameter number/order relies on the matching)\nconst customDateTimeFormatParserRegex =\n\t/(?<literal>\\[.*?\\])|(?<year>YYYY|YY)|(?<month>M{1,4})|(?<day>Do|DD?)|(?<weekday>d{2,4})|(?<hour>HH?|hh?)|(?<minute>mm?)|(?<second>ss?)|(?<fractionalSecond>SSS)|(?<dayPeriod>A|a)|(?<timeZoneName>ZZ?)/g;\nconst dateTimeFormatRegex = /(?<dateStyle>full|long|medium|short)(?:\\+(?<timeStyle>full|long|medium|short))?/;\nconst relativeUnitThresholds: [Intl.RelativeTimeFormatUnit, number, number, string][] = [\n\t['year', 24 * 60 * 60 * 1000 * (365 * 2 - 1), 24 * 60 * 60 * 1000 * 365, 'yr'],\n\t['month', (24 * 60 * 60 * 1000 * 365) / 12, (24 * 60 * 60 * 1000 * 365) / 12, 'mo'],\n\t['week', 24 * 60 * 60 * 1000 * 7, 24 * 60 * 60 * 1000 * 7, 'wk'],\n\t['day', 24 * 60 * 60 * 1000, 24 * 60 * 60 * 1000, 'd'],\n\t['hour', 60 * 60 * 1000, 60 * 60 * 1000, 'h'],\n\t['minute', 60 * 1000, 60 * 1000, 'm'],\n\t['second', 1000, 1000, 's'],\n];\n\ntype DateStyle = 'full' | 'long' | 'medium' | 'short';\ntype TimeStyle = 'full' | 'long' | 'medium' | 'short';\nexport type DateTimeFormat = DateStyle | `${DateStyle}+${TimeStyle}`;\n\nlet locale: string | undefined;\nconst dateTimeFormatCache = new Map<string | undefined, Intl.DateTimeFormat>();\nlet defaultLocales: string[] | undefined;\nlet defaultRelativeTimeFormat: InstanceType<typeof Intl.RelativeTimeFormat> | undefined;\nlet defaultShortRelativeTimeFormat: InstanceType<typeof Intl.RelativeTimeFormat> | undefined;\n\nexport function setDefaultDateLocales(locales: string | string[] | null | undefined) {\n\tif (typeof locales === 'string') {\n\t\tif (locales === 'system') {\n\t\t\tdefaultLocales = undefined;\n\t\t} else {\n\t\t\tdefaultLocales = [locales];\n\t\t}\n\t} else {\n\t\tdefaultLocales = locales ?? undefined;\n\t}\n\tdefaultRelativeTimeFormat = undefined;\n\tdefaultShortRelativeTimeFormat = undefined;\n\tdateTimeFormatCache.clear();\n\tlocale = undefined;\n}\n\nexport function createFromDateDelta(\n\tdate: Date,\n\tdelta: { years?: number; months?: number; days?: number; hours?: number; minutes?: number; seconds?: number },\n): Date {\n\tconst d = new Date(date.getTime());\n\n\tfor (const [key, value] of Object.entries(delta)) {\n\t\tif (!value) continue;\n\n\t\tswitch (key) {\n\t\t\tcase 'years':\n\t\t\t\td.setFullYear(d.getFullYear() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'months':\n\t\t\t\td.setMonth(d.getMonth() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'days':\n\t\t\t\td.setDate(d.getDate() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'hours':\n\t\t\t\td.setHours(d.getHours() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'minutes':\n\t\t\t\td.setMinutes(d.getMinutes() + value);\n\t\t\t\tbreak;\n\t\t\tcase 'seconds':\n\t\t\t\td.setSeconds(d.getSeconds() + value);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn d;\n}\n\nexport function fromNow(date: Date, short?: boolean): string {\n\tconst elapsed = date.getTime() - new Date().getTime();\n\n\tfor (const [unit, threshold, divisor, shortUnit] of relativeUnitThresholds) {\n\t\tconst elapsedABS = Math.abs(elapsed);\n\t\tif (elapsedABS >= threshold || threshold === 1000 /* second */) {\n\t\t\tif (short) {\n\t\t\t\tif (locale == null) {\n\t\t\t\t\tif (defaultShortRelativeTimeFormat != null) {\n\t\t\t\t\t\tlocale = defaultShortRelativeTimeFormat.resolvedOptions().locale;\n\t\t\t\t\t} else if (defaultRelativeTimeFormat != null) {\n\t\t\t\t\t\tlocale = defaultRelativeTimeFormat.resolvedOptions().locale;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdefaultShortRelativeTimeFormat = new Intl.RelativeTimeFormat(defaultLocales, {\n\t\t\t\t\t\t\tlocaleMatcher: 'best fit',\n\t\t\t\t\t\t\tnumeric: 'always',\n\t\t\t\t\t\t\tstyle: 'narrow',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlocale = defaultShortRelativeTimeFormat.resolvedOptions().locale;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (locale === 'en' || locale?.startsWith('en-')) {\n\t\t\t\t\tconst value = Math.round(elapsedABS / divisor);\n\t\t\t\t\treturn `${value}${shortUnit}`;\n\t\t\t\t}\n\n\t\t\t\tif (defaultShortRelativeTimeFormat == null) {\n\t\t\t\t\tdefaultShortRelativeTimeFormat = new Intl.RelativeTimeFormat(defaultLocales, {\n\t\t\t\t\t\tlocaleMatcher: 'best fit',\n\t\t\t\t\t\tnumeric: 'always',\n\t\t\t\t\t\tstyle: 'narrow',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn defaultShortRelativeTimeFormat.format(Math.round(elapsed / divisor), unit);\n\t\t\t}\n\n\t\t\tif (defaultRelativeTimeFormat == null) {\n\t\t\t\tdefaultRelativeTimeFormat = new Intl.RelativeTimeFormat(defaultLocales, {\n\t\t\t\t\tlocaleMatcher: 'best fit',\n\t\t\t\t\tnumeric: 'auto',\n\t\t\t\t\tstyle: 'long',\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn defaultRelativeTimeFormat.format(Math.round(elapsed / divisor), unit);\n\t\t}\n\t}\n\n\treturn '';\n}\n\nexport function formatDate(\n\tdate: Date,\n\tformat: 'full' | 'long' | 'medium' | 'short' | string | null | undefined,\n\tlocale?: string,\n\tcache: boolean = true,\n) {\n\tformat = format ?? undefined;\n\n\tconst key = `${locale ?? ''}:${format}`;\n\n\tlet formatter = dateTimeFormatCache.get(key);\n\tif (formatter == null) {\n\t\tconst options = getDateTimeFormatOptionsFromFormatString(format);\n\n\t\tlet locales;\n\t\tif (locale == null) {\n\t\t\tlocales = defaultLocales;\n\t\t} else if (locale === 'system') {\n\t\t\tlocales = undefined;\n\t\t} else {\n\t\t\tlocales = [locale];\n\t\t}\n\n\t\tformatter = new Intl.DateTimeFormat(locales, options);\n\t\tif (cache) {\n\t\t\tdateTimeFormatCache.set(key, formatter);\n\t\t}\n\t}\n\n\tif (format == null || dateTimeFormatRegex.test(format)) {\n\t\treturn formatter.format(date);\n\t}\n\n\tfunction getTimeFormatter(format: TimeStyle) {\n\t\tconst key = `${locale ?? ''}:time:${format}`;\n\n\t\tlet formatter = dateTimeFormatCache.get(key);\n\t\tif (formatter == null) {\n\t\t\tconst options: Intl.DateTimeFormatOptions = { localeMatcher: 'best fit', timeStyle: format };\n\n\t\t\tlet locales;\n\t\t\tif (locale == null) {\n\t\t\t\tlocales = defaultLocales;\n\t\t\t} else if (locale === 'system') {\n\t\t\t\tlocales = undefined;\n\t\t\t} else {\n\t\t\t\tlocales = [locale];\n\t\t\t}\n\n\t\t\tformatter = new Intl.DateTimeFormat(locales, options);\n\t\t\tif (cache) {\n\t\t\t\tdateTimeFormatCache.set(key, formatter);\n\t\t\t}\n\t\t}\n\n\t\treturn formatter;\n\t}\n\n\tconst parts = formatter.formatToParts(date);\n\treturn format.replace(\n\t\tcustomDateTimeFormatParserRegex,\n\t\t(\n\t\t\t_match,\n\t\t\tliteral,\n\t\t\t_year,\n\t\t\t_month,\n\t\t\t_day,\n\t\t\t_weekday,\n\t\t\t_hour,\n\t\t\t_minute,\n\t\t\t_second,\n\t\t\t_fractionalSecond,\n\t\t\t_dayPeriod,\n\t\t\t_timeZoneName,\n\t\t\t_offset,\n\t\t\t_s,\n\t\t\tgroups,\n\t\t) => {\n\t\t\tif (literal != null) return (literal as string).substring(1, literal.length - 1);\n\n\t\t\tfor (const key in groups) {\n\t\t\t\tconst value = groups[key];\n\t\t\t\tif (value == null) continue;\n\n\t\t\t\tconst part = parts.find(p => p.type === key);\n\n\t\t\t\tif (value === 'Do' && part?.type === 'day') {\n\t\t\t\t\treturn formatWithOrdinal(Number(part.value));\n\t\t\t\t} else if (value === 'a' && part?.type === 'dayPeriod') {\n\t\t\t\t\t// For some reason the Intl.DateTimeFormat doesn't honor the `dayPeriod` value and always returns the long version, so use the \"short\" timeStyle instead\n\t\t\t\t\tconst dayPeriod = getTimeFormatter('short')\n\t\t\t\t\t\t.formatToParts(date)\n\t\t\t\t\t\t.find(p => p.type === 'dayPeriod');\n\t\t\t\t\treturn ` ${(dayPeriod ?? part)?.value ?? ''}`;\n\t\t\t\t}\n\t\t\t\treturn part?.value ?? '';\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t);\n}\n\nexport function getDateDifference(\n\tfirst: Date | number,\n\tsecond: Date | number,\n\tunit?: 'days' | 'hours' | 'minutes' | 'seconds',\n): number {\n\tconst diff =\n\t\t(typeof second === 'number' ? second : second.getTime()) -\n\t\t(typeof first === 'number' ? first : first.getTime());\n\tswitch (unit) {\n\t\tcase 'days':\n\t\t\treturn Math.floor(diff / (1000 * 60 * 60 * 24));\n\t\tcase 'hours':\n\t\t\treturn Math.floor(diff / (1000 * 60 * 60));\n\t\tcase 'minutes':\n\t\t\treturn Math.floor(diff / (1000 * 60));\n\t\tcase 'seconds':\n\t\t\treturn Math.floor(diff / 1000);\n\t\tdefault:\n\t\t\treturn diff;\n\t}\n}\n\nfunction getDateTimeFormatOptionsFromFormatString(\n\tformat: DateTimeFormat | string | undefined,\n): Intl.DateTimeFormatOptions {\n\tif (format == null) return { localeMatcher: 'best fit', dateStyle: 'full', timeStyle: 'short' };\n\n\tconst match = dateTimeFormatRegex.exec(format);\n\tif (match?.groups != null) {\n\t\tconst { dateStyle, timeStyle } = match.groups;\n\t\treturn {\n\t\t\tlocaleMatcher: 'best fit',\n\t\t\tdateStyle: (dateStyle as Intl.DateTimeFormatOptions['dateStyle']) || 'full',\n\t\t\ttimeStyle: (timeStyle as Intl.DateTimeFormatOptions['timeStyle']) || undefined,\n\t\t};\n\t}\n\n\tconst options: Intl.DateTimeFormatOptions = { localeMatcher: 'best fit' };\n\n\tfor (const { groups } of format.matchAll(customDateTimeFormatParserRegex)) {\n\t\tif (groups == null) continue;\n\n\t\tfor (const key in groups) {\n\t\t\tconst value = groups[key];\n\t\t\tif (value == null) continue;\n\n\t\t\tswitch (key) {\n\t\t\t\tcase 'year':\n\t\t\t\t\toptions.year = value.length === 4 ? 'numeric' : '2-digit';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'month':\n\t\t\t\t\tswitch (value.length) {\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\toptions.month = 'long';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\toptions.month = 'short';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\toptions.month = '2-digit';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\toptions.month = 'numeric';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'day':\n\t\t\t\t\tif (value === 'DD') {\n\t\t\t\t\t\toptions.day = '2-digit';\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.day = 'numeric';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'weekday':\n\t\t\t\t\tswitch (value.length) {\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\toptions.weekday = 'long';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\toptions.weekday = 'short';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\toptions.weekday = 'narrow';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'hour':\n\t\t\t\t\toptions.hour = value.length === 2 ? '2-digit' : 'numeric';\n\t\t\t\t\toptions.hour12 = value === 'hh' || value === 'h';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'minute':\n\t\t\t\t\toptions.minute = value.length === 2 ? '2-digit' : 'numeric';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'second':\n\t\t\t\t\toptions.second = value.length === 2 ? '2-digit' : 'numeric';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fractionalSecond':\n\t\t\t\t\t(options as any).fractionalSecondDigits = 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dayPeriod':\n\t\t\t\t\toptions.dayPeriod = 'narrow';\n\t\t\t\t\toptions.hour12 = true;\n\t\t\t\t\toptions.hourCycle = 'h12';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'timeZoneName':\n\t\t\t\t\toptions.timeZoneName = value.length === 2 ? 'long' : 'short';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn options;\n}\n\nconst ordinals = ['th', 'st', 'nd', 'rd'];\nfunction formatWithOrdinal(n: number): string {\n\tconst v = n % 100;\n\treturn `${n}${ordinals[(v - 20) % 10] ?? ordinals[v] ?? ordinals[0]}`;\n}\n","/*global document*/\n\nexport interface Disposable {\n\tdispose: () => void;\n}\n\nexport namespace DOM {\n\texport function on<K extends keyof WindowEventMap>(\n\t\twindow: Window,\n\t\tname: K,\n\t\tlistener: (e: WindowEventMap[K], target: Window) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<K extends keyof DocumentEventMap>(\n\t\tdocument: Document,\n\t\tname: K,\n\t\tlistener: (e: DocumentEventMap[K], target: Document) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<T extends HTMLElement, K extends keyof DocumentEventMap>(\n\t\telement: T,\n\t\tname: K,\n\t\tlistener: (e: DocumentEventMap[K], target: T) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<T extends Element, K extends keyof DocumentEventMap>(\n\t\tselector: string,\n\t\tname: K,\n\t\tlistener: (e: DocumentEventMap[K], target: T) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable;\n\texport function on<K extends keyof (DocumentEventMap | WindowEventMap), T extends Document | Element | Window>(\n\t\tsourceOrSelector: string | Window | Document | Element,\n\t\tname: K,\n\t\tlistener: (e: (DocumentEventMap | WindowEventMap)[K], target: T) => void,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t): Disposable {\n\t\tlet disposed = false;\n\n\t\tif (typeof sourceOrSelector === 'string') {\n\t\t\tconst filteredListener = function (this: T, e: (DocumentEventMap | WindowEventMap)[K]) {\n\t\t\t\tconst target = e?.target as HTMLElement;\n\t\t\t\tif (!target?.matches(sourceOrSelector)) return;\n\n\t\t\t\tlistener(e, target as unknown as T);\n\t\t\t};\n\t\t\tdocument.addEventListener(name, filteredListener as EventListener, options ?? true);\n\n\t\t\treturn {\n\t\t\t\tdispose: () => {\n\t\t\t\t\tif (disposed) return;\n\t\t\t\t\tdisposed = true;\n\n\t\t\t\t\tdocument.removeEventListener(name, filteredListener as EventListener, options ?? true);\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tconst newListener = function (this: T, e: (DocumentEventMap | WindowEventMap)[K]) {\n\t\t\tlistener(e, this as unknown as T);\n\t\t};\n\t\tsourceOrSelector.addEventListener(name, newListener as EventListener, options ?? false);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tif (disposed) return;\n\t\t\t\tdisposed = true;\n\n\t\t\t\tsourceOrSelector.removeEventListener(name, newListener as EventListener, options ?? false);\n\t\t\t},\n\t\t};\n\t}\n\n\texport function insertTemplate(\n\t\tid: string,\n\t\t$slot: HTMLElement,\n\t\toptions?: { bindings?: Record<string, unknown>; visible?: Record<string, boolean> },\n\t): void {\n\t\tconst $template = document.getElementById(id) as HTMLTemplateElement;\n\t\t$slot.replaceChildren($template?.content.cloneNode(true));\n\t\t$slot.className = $template.className;\n\n\t\tif (options?.visible != null) {\n\t\t\tconst $els = $slot.querySelectorAll<HTMLElement>(`[data-visible]`);\n\t\t\tfor (const $el of $els) {\n\t\t\t\tconst key = $el.dataset.visible;\n\t\t\t\tif (!key) continue;\n\n\t\t\t\tif (options.visible[key]) {\n\t\t\t\t\t$el.style.display = 'initial';\n\t\t\t\t} else {\n\t\t\t\t\t$el.style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options?.bindings != null) {\n\t\t\tconst $els = $slot.querySelectorAll<HTMLElement>(`[data-bind]`);\n\t\t\tfor (const $el of $els) {\n\t\t\t\tconst key = $el.dataset.bind;\n\t\t\t\tif (!key) continue;\n\n\t\t\t\tconst value = options.bindings[key];\n\t\t\t\tif (value == null) continue;\n\n\t\t\t\t$el.textContent = String(value);\n\t\t\t}\n\t\t}\n\t}\n\n\texport function resetSlot($slot: HTMLElement) {\n\t\t$slot.replaceChildren();\n\t\t$slot.className = '';\n\t}\n}\n","const cssColorRegex =\n\t/^(?:(#?)([0-9a-f]{3}|[0-9a-f]{6})|((?:rgb|hsl)a?)\\((-?\\d+%?)[,\\s]+(-?\\d+%?)[,\\s]+(-?\\d+%?)[,\\s]*(-?[\\d.]+%?)?\\))$/i;\n\nfunction adjustLight(color: number, amount: number) {\n\tconst cc = color + amount;\n\tconst c = amount < 0 ? (cc < 0 ? 0 : cc) : cc > 255 ? 255 : cc;\n\n\treturn Math.round(c);\n}\n\nexport function darken(color: string, percentage: number) {\n\treturn lighten(color, -percentage);\n}\n\nexport function lighten(color: string, percentage: number) {\n\tconst rgba = toRgba(color);\n\tif (rgba == null) return color;\n\n\tconst [r, g, b, a] = rgba;\n\tconst amount = (255 * percentage) / 100;\n\treturn `rgba(${adjustLight(r, amount)}, ${adjustLight(g, amount)}, ${adjustLight(b, amount)}, ${a})`;\n}\n\nexport function opacity(color: string, percentage: number) {\n\tconst rgba = toRgba(color);\n\tif (rgba == null) return color;\n\n\tconst [r, g, b, a] = rgba;\n\treturn `rgba(${r}, ${g}, ${b}, ${a * (percentage / 100)})`;\n}\n\nexport function toRgba(color: string) {\n\tcolor = color.trim();\n\n\tconst result = cssColorRegex.exec(color);\n\tif (result == null) return null;\n\n\tif (result[1] === '#') {\n\t\tconst hex = result[2];\n\t\tswitch (hex.length) {\n\t\t\tcase 3:\n\t\t\t\treturn [parseInt(hex[0] + hex[0], 16), parseInt(hex[1] + hex[1], 16), parseInt(hex[2] + hex[2], 16), 1];\n\t\t\tcase 6:\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(hex.substring(0, 2), 16),\n\t\t\t\t\tparseInt(hex.substring(2, 4), 16),\n\t\t\t\t\tparseInt(hex.substring(4, 6), 16),\n\t\t\t\t\t1,\n\t\t\t\t];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tswitch (result[3]) {\n\t\tcase 'rgb':\n\t\t\treturn [parseInt(result[4], 10), parseInt(result[5], 10), parseInt(result[6], 10), 1];\n\t\tcase 'rgba':\n\t\t\treturn [parseInt(result[4], 10), parseInt(result[5], 10), parseInt(result[6], 10), parseFloat(result[7])];\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n","/*global window document MutationObserver*/\nimport { darken, lighten, opacity } from './colors';\n\nexport function initializeAndWatchThemeColors() {\n\tconst onColorThemeChanged = () => {\n\t\tconst body = document.body;\n\t\tconst computedStyle = window.getComputedStyle(body);\n\n\t\tconst bodyStyle = body.style;\n\n\t\tbodyStyle.setProperty('--font-family', computedStyle.getPropertyValue('--vscode-font-family').trim());\n\t\tbodyStyle.setProperty('--font-size', computedStyle.getPropertyValue('--vscode-font-size').trim());\n\t\tbodyStyle.setProperty('--font-weight', computedStyle.getPropertyValue('--vscode-font-weight').trim());\n\n\t\tbodyStyle.setProperty(\n\t\t\t'--editor-font-family',\n\t\t\tcomputedStyle.getPropertyValue('--vscode-editor-font-family').trim(),\n\t\t);\n\t\tbodyStyle.setProperty('--editor-font-size', computedStyle.getPropertyValue('--vscode-editor-font-size').trim());\n\t\tbodyStyle.setProperty(\n\t\t\t'--editor-font-weight',\n\t\t\tcomputedStyle.getPropertyValue('--vscode-editor-font-weight').trim(),\n\t\t);\n\n\t\tlet color = computedStyle.getPropertyValue('--vscode-editor-background').trim();\n\t\tbodyStyle.setProperty('--color-background', color);\n\t\tbodyStyle.setProperty('--color-background--lighten-05', lighten(color, 5));\n\t\tbodyStyle.setProperty('--color-background--darken-05', darken(color, 5));\n\t\tbodyStyle.setProperty('--color-background--lighten-075', lighten(color, 7.5));\n\t\tbodyStyle.setProperty('--color-background--darken-075', darken(color, 7.5));\n\t\tbodyStyle.setProperty('--color-background--lighten-15', lighten(color, 15));\n\t\tbodyStyle.setProperty('--color-background--darken-15', darken(color, 15));\n\t\tbodyStyle.setProperty('--color-background--lighten-30', lighten(color, 30));\n\t\tbodyStyle.setProperty('--color-background--darken-30', darken(color, 30));\n\t\tbodyStyle.setProperty('--color-background--lighten-50', lighten(color, 50));\n\t\tbodyStyle.setProperty('--color-background--darken-50', darken(color, 50));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-background').trim();\n\t\tbodyStyle.setProperty('--color-button-background', color);\n\t\tbodyStyle.setProperty('--color-button-background--darken-30', darken(color, 30));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-secondaryBackground').trim();\n\t\tbodyStyle.setProperty('--color-button-secondary-background', color);\n\t\tbodyStyle.setProperty('--color-button-secondary-background--darken-30', darken(color, 30));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-background').trim();\n\t\tbodyStyle.setProperty('--color-highlight', color);\n\t\tbodyStyle.setProperty('--color-highlight--75', opacity(color, 75));\n\t\tbodyStyle.setProperty('--color-highlight--50', opacity(color, 50));\n\t\tbodyStyle.setProperty('--color-highlight--25', opacity(color, 25));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-button-foreground').trim();\n\t\tbodyStyle.setProperty('--color-button-foreground', color);\n\n\t\tlet foregroundColor = computedStyle.getPropertyValue('--vscode-editor-foreground').trim();\n\t\tif (!foregroundColor) {\n\t\t\tforegroundColor = computedStyle.getPropertyValue('--vscode-foreground').trim();\n\t\t}\n\t\tbodyStyle.setProperty('--color-foreground', foregroundColor);\n\t\tbodyStyle.setProperty('--color-foreground--85', opacity(foregroundColor, 85));\n\t\tbodyStyle.setProperty('--color-foreground--75', opacity(foregroundColor, 75));\n\t\tbodyStyle.setProperty('--color-foreground--65', opacity(foregroundColor, 65));\n\t\tbodyStyle.setProperty('--color-foreground--50', opacity(foregroundColor, 50));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-focusBorder').trim();\n\t\tbodyStyle.setProperty('--color-focus-border', color);\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-textLink-foreground').trim();\n\t\tbodyStyle.setProperty('--color-link-foreground', color);\n\t\tbodyStyle.setProperty('--color-link-foreground--darken-20', darken(color, 20));\n\t\tbodyStyle.setProperty('--color-link-foreground--lighten-20', lighten(color, 20));\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-sideBar-foreground').trim();\n\t\tbodyStyle.setProperty('--color-view-foreground', color || foregroundColor);\n\n\t\tbodyStyle.setProperty(\n\t\t\t'--color-view-header-foreground',\n\t\t\tcomputedStyle.getPropertyValue('--vscode-sideBarSectionHeader-foreground').trim() ||\n\t\t\t\tcolor ||\n\t\t\t\tforegroundColor,\n\t\t);\n\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-background').trim();\n\t\tbodyStyle.setProperty('--color-hover-background', color);\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-border').trim();\n\t\tbodyStyle.setProperty('--color-hover-border', color);\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-foreground').trim();\n\t\tbodyStyle.setProperty('--color-hover-foreground', color);\n\t\tcolor = computedStyle.getPropertyValue('--vscode-editorHoverWidget-statusBarBackground').trim();\n\t\tbodyStyle.setProperty('--color-hover-statusBarBackground', color);\n\t};\n\n\tconst observer = new MutationObserver(onColorThemeChanged);\n\tobserver.observe(document.body, { attributes: true, attributeFilter: ['class'] });\n\n\tonColorThemeChanged();\n\treturn observer;\n}\n","/*global window document*/\nimport {\n\tIpcCommandType,\n\tIpcMessage,\n\tIpcMessageParams,\n\tIpcNotificationType,\n\tonIpc,\n\tWebviewReadyCommandType,\n} from '../../protocol';\nimport { DOM } from './dom';\nimport { Disposable } from './events';\nimport { initializeAndWatchThemeColors } from './theme';\n\ninterface VsCodeApi {\n\tpostMessage(msg: unknown): void;\n\tsetState(state: unknown): void;\n\tgetState(): unknown;\n}\n\ndeclare function acquireVsCodeApi(): VsCodeApi;\n\nconst maxSmallIntegerV8 = 2 ** 30; // Max number that can be stored in V8's smis (small integers)\n\nlet ipcSequence = 0;\nfunction nextIpcId() {\n\tif (ipcSequence === maxSmallIntegerV8) {\n\t\tipcSequence = 1;\n\t} else {\n\t\tipcSequence++;\n\t}\n\n\treturn `webview:${ipcSequence}`;\n}\n\nexport abstract class App<State = void> {\n\tprivate readonly _api: VsCodeApi;\n\tprotected state: State;\n\n\tconstructor(protected readonly appName: string) {\n\t\tthis.state = (window as any).bootstrap;\n\t\t(window as any).bootstrap = undefined;\n\n\t\tthis.log(`${this.appName}()`);\n\t\t// this.log(`${this.appName}(${this.state ? JSON.stringify(this.state) : ''})`);\n\n\t\tthis._api = acquireVsCodeApi();\n\t\tinitializeAndWatchThemeColors();\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.log(`${this.appName}.initializing`);\n\n\t\t\ttry {\n\t\t\t\tthis.onInitialize?.();\n\t\t\t\tthis.bind();\n\n\t\t\t\tif (this.onMessageReceived != null) {\n\t\t\t\t\twindow.addEventListener('message', this.onMessageReceived.bind(this));\n\t\t\t\t}\n\n\t\t\t\tthis.sendCommand(WebviewReadyCommandType, undefined);\n\n\t\t\t\tthis.onInitialized?.();\n\t\t\t} finally {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdocument.body.classList.remove('preload');\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected onInitialize?(): void;\n\tprotected onBind?(): Disposable[];\n\tprotected onInitialized?(): void;\n\tprotected onMessageReceived?(e: MessageEvent): void;\n\n\tprivate bindDisposables: Disposable[] | undefined;\n\tprotected bind() {\n\t\tthis.bindDisposables?.forEach(d => d.dispose());\n\t\tthis.bindDisposables = this.onBind?.();\n\t}\n\n\tprotected log(message: string) {\n\t\tconsole.log(message);\n\t}\n\n\tprotected getState(): State {\n\t\treturn this._api.getState() as State;\n\t}\n\n\tprotected sendCommand<TCommand extends IpcCommandType<any>>(\n\t\tcommand: TCommand,\n\t\tparams: IpcMessageParams<TCommand>,\n\t): void {\n\t\tconst id = nextIpcId();\n\t\tthis.log(`${this.appName}.sendCommand(${id}): name=${command.method}`);\n\n\t\treturn this.postMessage({ id: id, method: command.method, params: params });\n\t}\n\n\tprotected sendCommandWithCompletion<\n\t\tTCommand extends IpcCommandType<any>,\n\t\tTCompletion extends IpcNotificationType<{ completionId: string }>,\n\t>(\n\t\tcommand: TCommand,\n\t\tparams: IpcMessageParams<TCommand>,\n\t\tcompletion: TCompletion,\n\t\tcallback: (params: IpcMessageParams<TCompletion>) => void,\n\t): void {\n\t\tconst id = nextIpcId();\n\t\tthis.log(`${this.appName}.sendCommandWithCompletion(${id}): name=${command.method}`);\n\n\t\tconst disposable = DOM.on(window, 'message', e => {\n\t\t\tonIpc(completion, e.data as IpcMessage, params => {\n\t\t\t\tif (params.completionId === id) {\n\t\t\t\t\tdisposable.dispose();\n\t\t\t\t\tcallback(params);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn this.postMessage({ id: id, method: command.method, params: params });\n\t}\n\n\tprotected setState(state: State) {\n\t\tthis.state = state;\n\t\tif (state == null) return;\n\n\t\tthis._api.setState(state);\n\t}\n\n\tprivate postMessage(e: IpcMessage) {\n\t\tthis._api.postMessage(e);\n\t}\n}\n","/*global document*/\nimport type { Config } from '../../../config';\nimport {\n\tDidChangeConfigurationNotificationType,\n\tDidGenerateConfigurationPreviewNotificationType,\n\tDidOpenAnchorNotificationType,\n\tGenerateConfigurationPreviewCommandType,\n\tIpcMessage,\n\tonIpc,\n\tUpdateConfigurationCommandType,\n} from '../../protocol';\nimport { formatDate, setDefaultDateLocales } from '../shared/date';\nimport { App } from './appBase';\nimport { DOM } from './dom';\n\nconst offset = (new Date().getTimezoneOffset() / 60) * 100;\nconst date = new Date(\n\t`Wed Jul 25 2018 19:18:00 GMT${offset >= 0 ? '-' : '+'}${String(Math.abs(offset)).padStart(4, '0')}`,\n);\n\ninterface AppStateWithConfig {\n\tconfig: Config;\n\tcustomSettings?: Record<string, boolean>;\n}\n\nexport abstract class AppWithConfig<State extends AppStateWithConfig> extends App<State> {\n\tprivate _changes = Object.create(null) as Record<string, any>;\n\tprivate _updating: boolean = false;\n\n\tconstructor(appName: string) {\n\t\tsuper(appName);\n\t}\n\n\tprotected override onInitialized() {\n\t\tthis.updateState();\n\t}\n\n\tprotected override onBind() {\n\t\tconst disposables = super.onBind?.() ?? [];\n\n\t\tdisposables.push(\n\t\t\tDOM.on('input[type=checkbox][data-setting]', 'change', (e, target: HTMLInputElement) =>\n\t\t\t\tthis.onInputChecked(target),\n\t\t\t),\n\t\t\tDOM.on(\n\t\t\t\t'input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]',\n\t\t\t\t'blur',\n\t\t\t\t(e, target: HTMLInputElement) => this.onInputBlurred(target),\n\t\t\t),\n\t\t\tDOM.on(\n\t\t\t\t'input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]',\n\t\t\t\t'focus',\n\t\t\t\t(e, target: HTMLInputElement) => this.onInputFocused(target),\n\t\t\t),\n\t\t\tDOM.on(\n\t\t\t\t'input[type=text][data-setting][data-setting-preview], input[type=number][data-setting][data-setting-preview]',\n\t\t\t\t'input',\n\t\t\t\t(e, target: HTMLInputElement) => this.onInputChanged(target),\n\t\t\t),\n\t\t\tDOM.on('button[data-setting-clear]', 'click', (e, target: HTMLButtonElement) =>\n\t\t\t\tthis.onButtonClicked(target),\n\t\t\t),\n\t\t\tDOM.on('select[data-setting]', 'change', (e, target: HTMLSelectElement) => this.onInputSelected(target)),\n\t\t\tDOM.on('.token[data-token]', 'mousedown', (e, target: HTMLElement) => this.onTokenMouseDown(target, e)),\n\t\t);\n\n\t\treturn disposables;\n\t}\n\n\tprotected override onMessageReceived(e: MessageEvent) {\n\t\tconst msg = e.data as IpcMessage;\n\n\t\tthis.log(`${this.appName}.onMessageReceived(${msg.id}): name=${msg.method}`);\n\n\t\tswitch (msg.method) {\n\t\t\tcase DidOpenAnchorNotificationType.method: {\n\t\t\t\tonIpc(DidOpenAnchorNotificationType, msg, params => {\n\t\t\t\t\tthis.scrollToAnchor(params.anchor, params.scrollBehavior);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DidChangeConfigurationNotificationType.method:\n\t\t\t\tonIpc(DidChangeConfigurationNotificationType, msg, params => {\n\t\t\t\t\tthis.state.config = params.config;\n\t\t\t\t\tthis.state.customSettings = params.customSettings;\n\n\t\t\t\t\tthis.updateState();\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tsuper.onMessageReceived?.(e);\n\t\t}\n\t}\n\n\tprotected applyChanges() {\n\t\tthis.sendCommand(UpdateConfigurationCommandType, {\n\t\t\tchanges: { ...this._changes },\n\t\t\tremoves: Object.keys(this._changes).filter(k => this._changes[k] === undefined),\n\t\t\tscope: this.getSettingsScope(),\n\t\t});\n\n\t\tthis._changes = Object.create(null) as Record<string, any>;\n\t}\n\n\tprotected getSettingsScope(): 'user' | 'workspace' {\n\t\treturn 'user';\n\t}\n\n\tprotected onInputBlurred(element: HTMLInputElement) {\n\t\tthis.log(`${this.appName}.onInputBlurred: name=${element.name}, value=${element.value}`);\n\n\t\tconst $popup = document.getElementById(`${element.name}.popup`);\n\t\tif ($popup != null) {\n\t\t\t$popup.classList.add('hidden');\n\t\t}\n\n\t\tlet value: string | null | undefined = element.value;\n\t\tif (value == null || value.length === 0) {\n\t\t\tvalue = element.dataset.defaultValue;\n\t\t\tif (value === undefined) {\n\t\t\t\tvalue = null;\n\t\t\t}\n\t\t}\n\n\t\tif (element.dataset.settingType === 'arrayObject') {\n\t\t\tconst props = element.name.split('.');\n\t\t\tconst settingName = props[0];\n\t\t\tconst index = parseInt(props[1], 10);\n\t\t\tconst objectProps = props.slice(2);\n\n\t\t\tconst setting: Record<string, any>[] = this.getSettingValue(settingName) ?? [];\n\n\t\t\tconst settingItem = setting[index] ?? Object.create(null);\n\t\t\tif (setting[index] === undefined) {\n\t\t\t\tsetting[index] = settingItem;\n\t\t\t}\n\n\t\t\tset(\n\t\t\t\tsetting[index],\n\t\t\t\tobjectProps.join('.'),\n\t\t\t\telement.type === 'number' && value != null ? Number(value) : value,\n\t\t\t);\n\n\t\t\tthis._changes[settingName] = setting;\n\t\t} else {\n\t\t\tthis._changes[element.name] = element.type === 'number' && value != null ? Number(value) : value;\n\t\t}\n\n\t\t// this.setAdditionalSettings(element.checked ? element.dataset.addSettingsOn : element.dataset.addSettingsOff);\n\t\tthis.applyChanges();\n\t}\n\n\tprotected onButtonClicked(element: HTMLButtonElement) {\n\t\tif (element.dataset.settingType === 'arrayObject') {\n\t\t\tconst props = element.name.split('.');\n\t\t\tconst settingName = props[0];\n\n\t\t\tconst setting = this.getSettingValue<Record<string, any>[]>(settingName);\n\t\t\tif (setting === undefined) return;\n\n\t\t\tconst index = parseInt(props[1], 10);\n\t\t\tif (setting[index] == null) return;\n\n\t\t\tsetting.splice(index, 1);\n\n\t\t\tthis._changes[settingName] = setting.length ? setting : undefined;\n\n\t\t\tthis.applyChanges();\n\t\t}\n\t}\n\n\tprotected onInputChanged(element: HTMLInputElement) {\n\t\tif (this._updating) return;\n\n\t\tfor (const el of document.querySelectorAll<HTMLSpanElement>(`span[data-setting-preview=\"${element.name}\"]`)) {\n\t\t\tthis.updatePreview(el, element.value);\n\t\t}\n\t}\n\n\tprotected onInputChecked(element: HTMLInputElement) {\n\t\tif (this._updating) return;\n\n\t\tthis.log(\n\t\t\t`${this.appName}.onInputChecked: name=${element.name}, checked=${element.checked}, value=${element.value}`,\n\t\t);\n\n\t\tswitch (element.dataset.settingType) {\n\t\t\tcase 'object': {\n\t\t\t\tconst props = element.name.split('.');\n\t\t\t\tconst settingName = props.splice(0, 1)[0];\n\t\t\t\tconst setting = this.getSettingValue(settingName) ?? Object.create(null);\n\n\t\t\t\tif (element.checked) {\n\t\t\t\t\tset(setting, props.join('.'), fromCheckboxValue(element.value));\n\t\t\t\t} else {\n\t\t\t\t\tset(setting, props.join('.'), false);\n\t\t\t\t}\n\n\t\t\t\tthis._changes[settingName] = setting;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'array': {\n\t\t\t\tconst setting = this.getSettingValue(element.name) ?? [];\n\t\t\t\tif (Array.isArray(setting)) {\n\t\t\t\t\tif (element.checked) {\n\t\t\t\t\t\tif (!setting.includes(element.value)) {\n\t\t\t\t\t\t\tsetting.push(element.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst i = setting.indexOf(element.value);\n\t\t\t\t\t\tif (i !== -1) {\n\t\t\t\t\t\t\tsetting.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._changes[element.name] = setting;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'arrayObject': {\n\t\t\t\tconst props = element.name.split('.');\n\t\t\t\tconst settingName = props[0];\n\t\t\t\tconst index = parseInt(props[1], 10);\n\t\t\t\tconst objectProps = props.slice(2);\n\n\t\t\t\tconst setting: Record<string, any>[] = this.getSettingValue(settingName) ?? [];\n\n\t\t\t\tconst settingItem = setting[index] ?? Object.create(null);\n\t\t\t\tif (setting[index] === undefined) {\n\t\t\t\t\tsetting[index] = settingItem;\n\t\t\t\t}\n\n\t\t\t\tif (element.checked) {\n\t\t\t\t\tset(setting[index], objectProps.join('.'), fromCheckboxValue(element.value));\n\t\t\t\t} else {\n\t\t\t\t\tset(setting[index], objectProps.join('.'), false);\n\t\t\t\t}\n\n\t\t\t\tthis._changes[settingName] = setting;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'custom': {\n\t\t\t\tthis._changes[element.name] = element.checked;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tif (element.checked) {\n\t\t\t\t\tthis._changes[element.name] = fromCheckboxValue(element.value);\n\t\t\t\t} else {\n\t\t\t\t\tthis._changes[element.name] = element.dataset.valueOff == null ? false : element.dataset.valueOff;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tthis.setAdditionalSettings(element.checked ? element.dataset.addSettingsOn : element.dataset.addSettingsOff);\n\t\tthis.applyChanges();\n\t}\n\n\tprotected onInputFocused(element: HTMLInputElement) {\n\t\tthis.log(`${this.appName}.onInputFocused: name=${element.name}, value=${element.value}`);\n\n\t\tconst $popup = document.getElementById(`${element.name}.popup`);\n\t\tif ($popup != null) {\n\t\t\tif ($popup.childElementCount === 0) {\n\t\t\t\tconst $template = (document.querySelector('#token-popup') as HTMLTemplateElement)?.content.cloneNode(\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t\t$popup.appendChild($template);\n\t\t\t}\n\t\t\t$popup.classList.remove('hidden');\n\t\t}\n\t}\n\n\tprotected onInputSelected(element: HTMLSelectElement) {\n\t\tif (this._updating) return;\n\n\t\tconst value = element.options[element.selectedIndex].value;\n\n\t\tthis.log(`${this.appName}.onInputSelected: name=${element.name}, value=${value}`);\n\n\t\tthis._changes[element.name] = ensureIfBooleanOrNull(value);\n\n\t\tthis.applyChanges();\n\t}\n\n\tprotected onTokenMouseDown(element: HTMLElement, e: MouseEvent) {\n\t\tif (this._updating) return;\n\n\t\tthis.log(`${this.appName}.onTokenClicked: id=${element.id}`);\n\n\t\tconst setting = element.closest('.setting');\n\t\tif (setting == null) return;\n\n\t\tconst input = setting.querySelector<HTMLInputElement>('input[type=text], input:not([type])');\n\t\tif (input == null) return;\n\n\t\tconst token = `\\${${element.dataset.token}}`;\n\t\tlet selectionStart = input.selectionStart;\n\t\tif (selectionStart != null) {\n\t\t\tinput.value = `${input.value.substring(0, selectionStart)}${token}${input.value.substr(\n\t\t\t\tinput.selectionEnd ?? selectionStart,\n\t\t\t)}`;\n\n\t\t\tselectionStart += token.length;\n\t\t} else {\n\t\t\tselectionStart = input.value.length;\n\t\t}\n\n\t\tinput.focus();\n\t\tinput.setSelectionRange(selectionStart, selectionStart);\n\t\tif (selectionStart === input.value.length) {\n\t\t\tinput.scrollLeft = input.scrollWidth;\n\t\t}\n\n\t\tsetTimeout(() => this.onInputChanged(input), 0);\n\t\tsetTimeout(() => input.focus(), 250);\n\n\t\te.stopPropagation();\n\t\te.stopImmediatePropagation();\n\t\te.preventDefault();\n\t}\n\n\tprotected scrollToAnchor(anchor: string, behavior: ScrollBehavior, offset?: number) {\n\t\tconst el = document.getElementById(anchor);\n\t\tif (el == null) return;\n\n\t\tthis.scrollTo(el, behavior, offset);\n\t}\n\n\tprivate _scrollTimer: ReturnType<typeof setTimeout> | undefined;\n\tprivate scrollTo(el: HTMLElement, behavior: ScrollBehavior, offset?: number) {\n\t\tconst top = el.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (offset ?? 0);\n\n\t\twindow.scrollTo({\n\t\t\ttop: top,\n\t\t\tbehavior: behavior ?? 'smooth',\n\t\t});\n\n\t\tconst fn = () => {\n\t\t\tif (this._scrollTimer != null) {\n\t\t\t\tclearTimeout(this._scrollTimer);\n\t\t\t}\n\n\t\t\tthis._scrollTimer = setTimeout(() => {\n\t\t\t\twindow.removeEventListener('scroll', fn);\n\n\t\t\t\tconst newTop =\n\t\t\t\t\tel.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (offset ?? 0);\n\t\t\t\tif (top === newTop) return;\n\n\t\t\t\tthis.scrollTo(el, behavior, offset);\n\t\t\t}, 50);\n\t\t};\n\n\t\twindow.addEventListener('scroll', fn, false);\n\t}\n\n\tprivate evaluateStateExpression(expression: string, changes: Record<string, string | boolean>): boolean {\n\t\tlet state = false;\n\t\tfor (const expr of expression.trim().split('&')) {\n\t\t\tconst [lhs, op, rhs] = parseStateExpression(expr);\n\n\t\t\tswitch (op) {\n\t\t\t\tcase '=': {\n\t\t\t\t\t// Equals\n\t\t\t\t\tlet value = changes[lhs];\n\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\tvalue = this.getSettingValue<string | boolean>(lhs) ?? false;\n\t\t\t\t\t}\n\t\t\t\t\tstate = rhs !== undefined ? rhs === String(value) : Boolean(value);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase '!': {\n\t\t\t\t\t// Not equals\n\t\t\t\t\tlet value = changes[lhs];\n\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\tvalue = this.getSettingValue<string | boolean>(lhs) ?? false;\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n\t\t\t\t\tstate = rhs !== undefined ? rhs !== String(value) : !value;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase '+': {\n\t\t\t\t\t// Contains\n\t\t\t\t\tif (rhs !== undefined) {\n\t\t\t\t\t\tconst setting = this.getSettingValue<string[]>(lhs);\n\t\t\t\t\t\tstate = setting !== undefined ? setting.includes(rhs.toString()) : false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!state) break;\n\t\t}\n\t\treturn state;\n\t}\n\n\tprivate getCustomSettingValue(path: string): boolean | undefined {\n\t\treturn this.state.customSettings?.[path];\n\t}\n\n\tprivate getSettingValue<T>(path: string): T | undefined {\n\t\tconst customSetting = this.getCustomSettingValue(path);\n\t\tif (customSetting != null) return customSetting as any;\n\n\t\treturn get<T>(this.state.config, path);\n\t}\n\n\tprotected beforeUpdateState?(): void;\n\n\tprivate updateState() {\n\t\tthis.beforeUpdateState?.();\n\n\t\tthis._updating = true;\n\n\t\tsetDefaultDateLocales(this.state.config.defaultDateLocale);\n\n\t\ttry {\n\t\t\tfor (const el of document.querySelectorAll<HTMLInputElement>('input[type=checkbox][data-setting]')) {\n\t\t\t\tif (el.dataset.settingType === 'custom') {\n\t\t\t\t\tel.checked = this.getCustomSettingValue(el.name) ?? false;\n\t\t\t\t} else if (el.dataset.settingType === 'array') {\n\t\t\t\t\tel.checked = (this.getSettingValue<string[]>(el.name) ?? []).includes(el.value);\n\t\t\t\t} else if (el.dataset.valueOff != null) {\n\t\t\t\t\tconst value = this.getSettingValue<string>(el.name);\n\t\t\t\t\tel.checked = el.dataset.valueOff !== value;\n\t\t\t\t} else {\n\t\t\t\t\tel.checked = this.getSettingValue<boolean>(el.name) ?? false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const el of document.querySelectorAll<HTMLInputElement>(\n\t\t\t\t'input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]',\n\t\t\t)) {\n\t\t\t\tel.value = this.getSettingValue<string>(el.name) ?? '';\n\t\t\t}\n\n\t\t\tfor (const el of document.querySelectorAll<HTMLSelectElement>('select[data-setting]')) {\n\t\t\t\tconst value = this.getSettingValue<string>(el.name);\n\t\t\t\tconst option = el.querySelector<HTMLOptionElement>(`option[value='${value}']`);\n\t\t\t\tif (option != null) {\n\t\t\t\t\toption.selected = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const el of document.querySelectorAll<HTMLSpanElement>('span[data-setting-preview]')) {\n\t\t\t\tthis.updatePreview(el);\n\t\t\t}\n\t\t} finally {\n\t\t\tthis._updating = false;\n\t\t}\n\n\t\tconst state = flatten(this.state.config);\n\t\tthis.setVisibility(state);\n\t\tthis.setEnablement(state);\n\t}\n\n\tprivate setAdditionalSettings(expression: string | undefined) {\n\t\tif (!expression) return;\n\n\t\tconst addSettings = parseAdditionalSettingsExpression(expression);\n\t\tfor (const [s, v] of addSettings) {\n\t\t\tthis._changes[s] = v;\n\t\t}\n\t}\n\n\tprivate setEnablement(state: Record<string, string | boolean>) {\n\t\tfor (const el of document.querySelectorAll<HTMLElement>('[data-enablement]')) {\n\t\t\tconst disabled = !this.evaluateStateExpression(el.dataset.enablement!, state);\n\t\t\tif (disabled) {\n\t\t\t\tel.setAttribute('disabled', '');\n\t\t\t} else {\n\t\t\t\tel.removeAttribute('disabled');\n\t\t\t}\n\n\t\t\tif (el.matches('input,select')) {\n\t\t\t\t(el as HTMLInputElement | HTMLSelectElement).disabled = disabled;\n\t\t\t} else {\n\t\t\t\tconst input = el.querySelector<HTMLInputElement | HTMLSelectElement>('input,select');\n\t\t\t\tif (input == null) continue;\n\n\t\t\t\tinput.disabled = disabled;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setVisibility(state: Record<string, string | boolean>) {\n\t\tfor (const el of document.querySelectorAll<HTMLElement>('[data-visibility]')) {\n\t\t\tel.classList.toggle('hidden', !this.evaluateStateExpression(el.dataset.visibility!, state));\n\t\t}\n\t}\n\n\tprivate updatePreview(el: HTMLSpanElement, value?: string) {\n\t\tswitch (el.dataset.settingPreviewType) {\n\t\t\tcase 'date': {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this.getSettingValue<string>(el.dataset.settingPreview!);\n\t\t\t\t}\n\n\t\t\t\tif (!value) {\n\t\t\t\t\tvalue = el.dataset.settingPreviewDefault;\n\t\t\t\t}\n\n\t\t\t\tel.innerText = value == null ? '' : formatDate(date, value, undefined, false);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'date-locale': {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this.getSettingValue<string>(el.dataset.settingPreview!);\n\t\t\t\t}\n\n\t\t\t\tif (!value) {\n\t\t\t\t\tvalue = undefined;\n\t\t\t\t}\n\n\t\t\t\tconst format = this.getSettingValue<string>(el.dataset.settingPreviewDefault!) ?? 'MMMM Do, YYYY h:mma';\n\t\t\t\ttry {\n\t\t\t\t\tel.innerText = formatDate(date, format, value, false);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tel.innerText = ex.message;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'commit': {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this.getSettingValue<string>(el.dataset.settingPreview!);\n\t\t\t\t}\n\n\t\t\t\tif (!value) {\n\t\t\t\t\tvalue = el.dataset.settingPreviewDefault;\n\t\t\t\t}\n\n\t\t\t\tif (value == null) {\n\t\t\t\t\tel.innerText = '';\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.sendCommandWithCompletion(\n\t\t\t\t\tGenerateConfigurationPreviewCommandType,\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: el.dataset.settingPreview!,\n\t\t\t\t\t\ttype: 'commit',\n\t\t\t\t\t\tformat: value,\n\t\t\t\t\t},\n\t\t\t\t\tDidGenerateConfigurationPreviewNotificationType,\n\t\t\t\t\tparams => {\n\t\t\t\t\t\tel.innerText = params.preview ?? '';\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction ensureIfBooleanOrNull(value: string | boolean): string | boolean | null {\n\tif (value === 'true') return true;\n\tif (value === 'false') return false;\n\tif (value === 'null') return null;\n\treturn value;\n}\n\nfunction get<T>(o: Record<string, any>, path: string): T | undefined {\n\treturn path.split('.').reduce((o = {}, key) => (o == null ? undefined : o[key]), o) as T;\n}\n\nfunction set(o: Record<string, any>, path: string, value: any): Record<string, any> {\n\tconst props = path.split('.');\n\tconst length = props.length;\n\tconst lastIndex = length - 1;\n\n\tlet index = -1;\n\tlet nested = o;\n\n\twhile (nested != null && ++index < length) {\n\t\tconst key = props[index];\n\t\tlet newValue = value;\n\n\t\tif (index !== lastIndex) {\n\t\t\tconst objValue = nested[key];\n\t\t\tnewValue = typeof objValue === 'object' ? objValue : {};\n\t\t}\n\n\t\tnested[key] = newValue;\n\t\tnested = nested[key];\n\t}\n\n\treturn o;\n}\n\nfunction parseAdditionalSettingsExpression(expression: string): [string, string | boolean | null][] {\n\tconst settingsExpression = expression.trim().split(',');\n\treturn settingsExpression.map<[string, string | boolean | null]>(s => {\n\t\tconst [setting, value] = s.split('=');\n\t\treturn [setting, ensureIfBooleanOrNull(value)];\n\t});\n}\n\nfunction parseStateExpression(expression: string): [string, string, string | boolean | undefined] {\n\tconst [lhs, op, rhs] = expression.trim().split(/([=+!])/);\n\treturn [lhs.trim(), op !== undefined ? op.trim() : '=', rhs !== undefined ? rhs.trim() : rhs];\n}\n\nfunction flatten(o: Record<string, any>, path?: string): Record<string, any> {\n\tconst results: Record<string, any> = {};\n\n\tfor (const key in o) {\n\t\tconst value = o[key];\n\t\tif (Array.isArray(value)) continue;\n\n\t\tif (typeof value === 'object') {\n\t\t\tObject.assign(results, flatten(value, path === undefined ? key : `${path}.${key}`));\n\t\t} else {\n\t\t\tresults[path === undefined ? key : `${path}.${key}`] = value;\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction fromCheckboxValue(elementValue: any) {\n\tswitch (elementValue) {\n\t\tcase 'on':\n\t\t\treturn true;\n\t\tcase 'null':\n\t\t\treturn null;\n\t\tcase 'undefined':\n\t\t\treturn undefined;\n\t\tdefault:\n\t\t\treturn elementValue;\n\t}\n}\n","/*global*/\nimport './welcome.scss';\nimport type { State } from '../../welcome/protocol';\nimport { AppWithConfig } from '../shared/appWithConfigBase';\n// import { Snow } from '../shared/snow';\n\nexport class WelcomeApp extends AppWithConfig<State> {\n\tconstructor() {\n\t\tsuper('WelcomeApp');\n\t}\n}\n\nnew WelcomeApp();\n// requestAnimationFrame(() => new Snow());\n"],"names":[],"sourceRoot":""}